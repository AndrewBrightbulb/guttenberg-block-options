!function(e,t,m,o){var i=wp.compose.createHigherOrderComponent(function(O){return wp.components.withAPIData(function(){return{acf:"/block-options/v1/acf"}})(function(t){var e=wp.element.createElement,o=(wp.i18n.__,wp.editor.BlockControls,wp.editor.InspectorControls),i=(wp.components.Button,wp.components.TextControl,wp.components.SelectControl),s=wp.components.CheckboxControl,l=wp.components.TextareaControl,n=(wp.components.PanelRow,wp.components.PanelBody),a=wp.components.Dashicon,c=(wp.components.Popover,Object.assign({},t));c.key="blockOptions";var b=e(O,c),p=(t.isSelected,t.attributes,t.attributes.blockOpts?t.attributes.blockOpts:[]),d=t.attributes.className?t.attributes.className:"",r=!1,u=!1,v="",k="";if(UserLoginState="",ACF="",hr=e("div",{className:"blockopts-separator"},""),-1===d.indexOf(t.clientId)&&(void 0!==p.id&&p.id!=t.clientId&&(d=d.replace(" b"+p.id+" ","")),delete p.id,t.setAttributes({className:d+" b"+t.clientId+" "}),blockOptions=Object.assign({id:t.clientId},p),t.setAttributes({blockOpts:blockOptions})),void 0!==varblockOpts.settings&&void 0!==varblockOpts.settings.general&&(void 0!==varblockOpts.settings.general.opened&&"1"==varblockOpts.settings.general.opened&&(r=!0),void 0!==varblockOpts.settings.general.hidedesc&&"1"==varblockOpts.settings.general.hidedesc&&(u=!0)),void 0!==varblockOpts.devices&&"activate"==varblockOpts.devices&&(k=[e("h3",{},m.__("Device Visibility"))],u||k.push(e("p",{},m.__("Show or hide specific blocks on your selected devices."))),k.push(e(i,{label:m.__("Show/Hide"),value:void 0!==p.devices&&""!=p.devices?p.devices:"",options:[{label:m.__("Select Visibility Option"),value:"none"},{label:m.__("Hide on Checked Devices"),value:"hide"},{label:m.__("Show on Checked Devices"),value:"show"}],onChange:function(e){delete p.devices,blockOptions=Object.assign({devices:e},p),cname=d.replace(" blockopts-show",""),cname=cname.replace(" blockopts-hide",""),"none"!=e&&(cname=cname+" blockopts-"+e),t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),e(s,{label:m.__("Desktop"),checked:void 0!==p.desktop&&"on"==p.desktop,onChange:function(e){delete p.desktop,cname=d.replace(" blockopts-desktop",""),event.target.checked?(blockOptions=Object.assign({desktop:"on"},p),cname+=" blockopts-desktop"):blockOptions=p,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),e(s,{label:m.__("Tablet"),checked:void 0!==p.tablet&&"on"==p.tablet,onChange:function(e){delete p.tablet,cname=d.replace(" blockopts-tablet",""),event.target.checked?(blockOptions=Object.assign({tablet:"on"},p),cname+=" blockopts-tablet"):blockOptions=p,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),e(s,{label:m.__("Mobile"),checked:void 0!==p.mobile&&"on"==p.mobile,onChange:function(e){delete p.mobile,cname=d.replace(" blockopts-mobile",""),event.target.checked?(blockOptions=Object.assign({mobile:"on"},p),cname+=" blockopts-mobile"):blockOptions=p,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),hr)),void 0!==varblockOpts.state&&"activate"==varblockOpts.state&&(UserLoginState=[e("h3",{},m.__("User Login State"))],u||UserLoginState.push(e("p",{},m.__("Restrict blocks visibility for logged-in and logged-out users. A simpler solution rather than using Display Logic feature."))),UserLoginState.push(e(i,{label:m.__("Select Login State"),value:void 0!==p.state&&""!=p.state?p.state:"",options:[{label:m.__("Select Visibility Option"),value:"none"},{label:m.__("Show only for Logged-in Users"),value:"in"},{label:m.__("Show only for Logged-out Users"),value:"out"}],onChange:function(e){delete p.state,blockOptions=Object.assign({state:e},p),t.setAttributes({blockOpts:blockOptions})}}),hr)),void 0!==varblockOpts.acf&&"activate"==varblockOpts.acf){var _=[{label:m.__("Select Field"),value:""}];if(ACF=[e("h3",{},m.__("Advanced Custom Fields"))],void 0!==t.acf.data){var h=t.acf.data;for(var g in h)_.push({label:h[g],value:g})}u||ACF.push(e("p",{},m.__("Restrict block visibility based on ACF field and conditions."))),ACF.push(e(i,{label:m.__("Select Visibility"),value:void 0!==p.acf_visibility&&""!=p.acf_visibility?p.acf_visibility:"",options:[{label:m.__("Select Visibility Option"),value:"none"},{label:m.__("Hide when Condition's met"),value:"hide"},{label:m.__("Show when Condition's met"),value:"show"}],onChange:function(e){delete p.acf_visibility,blockOptions=Object.assign({acf_visibility:e},p),t.setAttributes({blockOpts:blockOptions})}})),0<_.length&&ACF.push(e(i,{label:m.__("Select ACF Field"),value:void 0!==p.acf_field&&""!=p.acf_field?p.acf_field:"",options:_,onChange:function(e){delete p.acf_field,blockOptions=Object.assign({acf_field:e},p),t.setAttributes({blockOpts:blockOptions})}})),ACF.push(e(i,{label:m.__("Select Visibility"),value:void 0!==p.acf_condition&&""!=p.acf_condition?p.acf_condition:"",options:[{label:m.__("Select Condition"),value:"none"},{label:m.__("Is Equal to"),value:"equal"},{label:m.__("Is Not Equal to"),value:"not_equal"},{label:m.__("Contains"),value:"contains"},{label:m.__("Does Not Contain"),value:"not_contains"},{label:m.__("Is Empty"),value:"empty"},{label:m.__("Is Not Empty"),value:"not_empty"}],onChange:function(e){delete p.acf_condition,blockOptions=Object.assign({acf_condition:e},p),t.setAttributes({blockOpts:blockOptions})}})),ACF.push(e(l,{label:m.__("Conditional Value"),rows:3,value:p.acf_value,onChange:function(e){delete p.acf_value,blockOptions=Object.assign({acf_value:e},p),t.setAttributes({blockOpts:blockOptions})}}),hr)}return void 0!==varblockOpts.logic&&"activate"==varblockOpts.logic&&(v=[e("h3",{},m.__("Display Logic"))],u||v.push(e("p",{},m.__("Manage block visibility using valid PHP conditional tags. Please note that the display logic you introduce is EVAL'd directly. There is an optional filter 'block_options_logic_override' which you can use to bypass the EVAL with your own code if needed."))),v.push(e(l,{rows:3,value:p.logic,onChange:function(e){delete p.logic,blockOptions=Object.assign({logic:e},p),t.setAttributes({blockOpts:blockOptions})}}),hr)),b=[b,e(o,{key:"inspector"},e(n,{title:"Block Options",initialOpen:r},e("div",{className:"components-block-description"},e("div",{className:"editor-block-inspector__card-description"},e("span",{className:"widgetopts-dropcap"},e(a,{icon:"editor-bold"})),e("span",{},m.__("Manage your blocks better using available options below. You can restrict visibilities and add custom display logic using WordPress conditional tags.")))),hr,k,UserLoginState,ACF,v))]})},"withInspectorControls");wp.hooks.addFilter("blocks.registerBlockType","blockopts-attribute",function(e){return void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}})),e}),wp.hooks.addFilter("editor.BlockEdit","block-options/with-inspector-controls",i)}(window.wp.hooks,window.wp.blocks,window.wp.i18n,window.wp.element);