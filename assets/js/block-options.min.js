!function(e,t,o,s){wp.hooks.addFilter("blocks.registerBlockType","widgetopts-attribute",function(e){return e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}}),e}),wp.hooks.addFilter("blocks.BlockEdit","widgetopts-inspector-control",function(e){return function(t){var s=wp.element.createElement,i=(wp.i18n.__,wp.blocks.BlockControls,wp.blocks.InspectorControls),n=(wp.components.Button,wp.components.TextControl,wp.components.SelectControl),c=wp.components.CheckboxControl,l=wp.components.TextareaControl,a=(wp.components.PanelRow,wp.components.PanelBody),p=wp.components.Dashicon,b=(wp.components.Popover,Object.assign({},t));b.key="blockOptions";var r=s(e,b),d=t.isSelected,k=(t.attributes,t.attributes.blockOpts?t.attributes.blockOpts:[]),u=t.attributes.className?t.attributes.className:"",g=!1,v=!1,h="",O="";return UserLoginState="",hr=s("div",{className:"blockopts-separator"},""),-1===u.indexOf(t.id)&&(void 0!==k.id&&k.id!=t.id&&(u=u.replace(" b"+k.id+" ","")),delete k.id,t.setAttributes({className:u+" b"+t.id+" "}),blockOptions=Object.assign({id:t.id},k),t.setAttributes({blockOpts:blockOptions})),void 0!==varblockOpts.settings&&void 0!==varblockOpts.settings.general&&(void 0!==varblockOpts.settings.general.opened&&"1"==varblockOpts.settings.general.opened&&(g=!0),void 0!==varblockOpts.settings.general.hidedesc&&"1"==varblockOpts.settings.general.hidedesc&&(v=!0)),void 0!==varblockOpts.devices&&"activate"==varblockOpts.devices&&(O=[s("h3",{},o.__("Device Visibility"))],v||O.push(s("p",{},o.__("Show or hide specific blocks on your selected devices."))),O.push(s(n,{label:o.__("Show/Hide"),value:void 0!==k.devices&&""!=k.devices?k.devices:"",options:[{label:o.__("Select Visibility Option"),value:"none"},{label:o.__("Hide on Checked Devices"),value:"hide"},{label:o.__("Show on Checked Devices"),value:"show"}],onChange:function(e){delete k.devices,blockOptions=Object.assign({devices:e},k),cname=u.replace(" blockopts-show",""),cname=cname.replace(" blockopts-hide",""),"none"!=e&&(cname=cname+" blockopts-"+e),t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(c,{label:o.__("Desktop"),checked:void 0!==k.desktop&&"on"==k.desktop,onChange:function(e){delete k.desktop,cname=u.replace(" blockopts-desktop",""),event.target.checked?(blockOptions=Object.assign({desktop:"on"},k),cname+=" blockopts-desktop"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(c,{label:o.__("Tablet"),checked:void 0!==k.tablet&&"on"==k.tablet,onChange:function(e){delete k.tablet,cname=u.replace(" blockopts-tablet",""),event.target.checked?(blockOptions=Object.assign({tablet:"on"},k),cname+=" blockopts-tablet"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(c,{label:o.__("Mobile"),checked:void 0!==k.mobile&&"on"==k.mobile,onChange:function(e){delete k.mobile,cname=u.replace(" blockopts-mobile",""),event.target.checked?(blockOptions=Object.assign({mobile:"on"},k),cname+=" blockopts-mobile"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),hr)),void 0!==varblockOpts.state&&"activate"==varblockOpts.state&&(UserLoginState=[s("h3",{},o.__("User Login State"))],v||UserLoginState.push(s("p",{},o.__("Restrict blocks visibility for logged-in and logged-out users. A simpler solution rather than using Display Logic feature."))),UserLoginState.push(s(n,{label:o.__("Select Login State"),value:void 0!==k.state&&""!=k.state?k.state:"",options:[{label:o.__("Select Visibility Option"),value:"none"},{label:o.__("Show only for Logged-in Users"),value:"in"},{label:o.__("Show only for Logged-out Users"),value:"out"}],onChange:function(e){delete k.state,blockOptions=Object.assign({state:e},k),t.setAttributes({blockOpts:blockOptions})}}),hr)),void 0!==varblockOpts.logic&&"activate"==varblockOpts.logic&&(h=[s("h3",{},o.__("Display Logic"))],v||h.push(s("p",{},o.__("Manage block visibility using valid PHP conditional tags. Please note that the display logic you introduce is EVAL'd directly. There is an optional filter 'block_options_logic_override' which you can use to bypass the EVAL with your own code if needed."))),h.push(s(l,{rows:3,value:k.logic,onChange:function(e){delete k.logic,blockOptions=Object.assign({logic:e},k),t.setAttributes({blockOpts:blockOptions})}}),hr)),r=[r,!!d&&s(i,{key:"inspector"},s(a,{title:"Block Options",initialOpen:g},s("div",{className:"components-block-description"},s("div",{className:"editor-block-inspector__card-description"},s("span",{className:"widgetopts-dropcap"},s(p,{icon:"editor-bold"})),s("span",{},o.__("Manage your blocks better using available options below. You can restrict visibilities and add custom display logic using WordPress conditional tags.")))),hr,O,UserLoginState,h))]}})}(window.wp.hooks,window.wp.blocks,window.wp.i18n,window.wp.element);