!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=52)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){var o=n(147);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(148),i=n(6);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var s=i.apply(null,o);s&&e.push(s)}else if("object"===r)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}void 0!==e&&e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var o=n(47),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t,n){var o=n(57);e.exports=function(e,t){if(null==e)return{};var n,i,r=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},function(e,t,n){var o=n(51),i=n(146),r=n(66),s=n(11);e.exports=function(e,t){return(s(e)?o:r)(e,i(t,3))}},function(e,t,n){var o=n(133),i=n(127);e.exports=function(e,t){var n=i(e,t);return o(n)?n:void 0}},function(e,t,n){var o=n(60),i=n(59),r=n(58);e.exports=function(e,t){return o(e)||i(e,t)||r()}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var o=n(23),i=n(131),r=n(130),s="[object Null]",a="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):r(e)}},function(e,t,n){var o=n(27),i=1/0;e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,n){var o=n(118);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var o=n(16)(Object,"create");e.exports=o},function(e,t,n){var o=n(12).Symbol;e.exports=o},function(e,t,n){var o=n(49);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},function(e,t,n){var o=n(143),i=n(142),r=n(141),s=n(140),a=n(139);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t){function n(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,i)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise(function(i,r){var s=e.apply(t,o);function a(e){n(s,i,r,a,c,"next",e)}function c(e){n(s,i,r,a,c,"throw",e)}a(void 0)})}}},function(e,t,n){var o=n(19),i=n(18),r="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&o(e)==r}},function(e,t,n){var o=n(11),i=n(27),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!r.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var o=n(48),i=n(30);e.exports=function(e){return null!=e&&i(e.length)&&!o(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var o=n(97),i=n(90),r=n(29);e.exports=function(e){return r(e)?o(e):i(e)}},function(e,t,n){var o=n(126),i=n(119),r=n(117),s=n(116),a=n(115);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var o=n(16)(n(12),"Map");e.exports=o},function(e,t,n){var o=n(11),i=n(28),r=n(78),s=n(75);e.exports=function(e,t){return o(e)?e:i(e,t)?[e]:r(s(e))}},function(e,t,n){var o=n(35),i=n(20);e.exports=function(e,t){for(var n=0,r=(t=o(t,e)).length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var o=n(33);e.exports=function(e){return e==e&&!o(e)}},function(e,t,n){var o=n(93),i=n(92),r=n(91),s=r&&r.isTypedArray,a=s?i(s):o;e.exports=a},function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){var o=n(12),i=n(94),r="object"==typeof t&&t&&!t.nodeType&&t,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?o.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,n(41)(e))},function(e,t,n){var o=n(95),i=n(18),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){var o=n(113),i=n(110),r=n(109),s=1,a=2;e.exports=function(e,t,n,c,l,u){var p=n&s,d=e.length,f=t.length;if(d!=f&&!(p&&f>d))return!1;var b=u.get(e);if(b&&u.get(t))return b==t;var m=-1,h=!0,v=n&a?new o:void 0;for(u.set(e,t),u.set(t,e);++m<d;){var g=e[m],k=t[m];if(c)var y=p?c(k,g,m,t,e,u):c(g,k,m,e,t,u);if(void 0!==y){if(y)continue;h=!1;break}if(v){if(!i(t,function(e,t){if(!r(v,t)&&(g===e||l(g,e,n,c,u)))return v.push(t)})){h=!1;break}}else if(g!==k&&!l(g,k,n,c,u)){h=!1;break}}return u.delete(e),u.delete(t),h}},function(e,t,n){var o=n(114),i=n(18);e.exports=function e(t,n,r,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:o(t,n,r,s,e,a))}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(132))},function(e,t,n){var o=n(19),i=n(33),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=o(e);return t==s||t==a||t==r||t==c}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var o=n(25),i=n(138),r=n(137),s=n(136),a=n(135),c=n(134);function l(e){var t=this.__data__=new o(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}},function(e,t,n){"use strict";n.r(t);var o={};n.d(o,"name",function(){return _d}),n.d(o,"title",function(){return Ed}),n.d(o,"icon",function(){return yd}),n.d(o,"settings",function(){return Cd});var i=n(8),r=n.n(i),s=n(10),a=n.n(s),c=n(0),l=n(9),u=n.n(l);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var d=wp.hooks.addFilter,f=wp.element.Fragment,b=wp.compose.createHigherOrderComponent,m=wp.blocks.hasBlockSupport,h=["core/freeform","core/shortcode","core/nextpage"],v=["core/image","core/cover","core/group","core/columns","core/media-text"];var g=b(function(e){return function(t){var n=t.attributes;return void 0===n.editorskit&&(n.editorskit=[]),Object(c.createElement)(f,null,Object(c.createElement)(e,t))}},"withAttributes");var k=b(function(e){return function(t){var n=t.name,o=t.attributes.isHeightFullScreen,i=t.wrapperProps,s={};return m(n,"hasHeightFullScreen")&&o&&(s=Object.assign(s,{"data-editorskit-h-screen":1})),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i,{},s),Object(c.createElement)(e,a()({},t,{wrapperProps:i}))}},"addEditorBlockAttributes");d("blocks.registerBlockType","editorskit/custom/attributes",function(e){return void 0===e.attributes||h.includes(e.name)||(e.attributes=Object.assign(e.attributes,{editorskit:{type:"object",default:{devices:!1,desktop:!0,tablet:!0,mobile:!0,loggedin:!0,loggedout:!0,acf_visibility:"",acf_field:"",acf_condition:"",acf_value:"",migrated:!1}}}),e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}}),v.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasHeightFullScreen:!0})),m(e,"hasHeightFullScreen")&&void 0!==e.attributes&&(e.attributes.isHeightFullScreen||(e.attributes=Object.assign(e.attributes,{isHeightFullScreen:{type:"boolean",default:!1}})))),e}),d("editor.BlockEdit","editorskit/attributes",g),d("blocks.getSaveContent.extraProps","editorskit/applyExtraClass",function(e,t,n){var o=n.editorskit,i=n.isHeightFullScreen;return void 0===o||h.includes(t.name)||(void 0!==o.id&&(e.className=u()(e.className,o.id)),void 0===o.desktop||o.desktop||(e.className=u()(e.className,"editorskit-no-desktop")),void 0===o.tablet||o.tablet||(e.className=u()(e.className,"editorskit-no-tablet")),void 0===o.mobile||o.mobile||(e.className=u()(e.className,"editorskit-no-mobile"))),m(t.name,"hasHeightFullScreen")&&i&&(e.className=u()(e.className,"h-screen")),e}),d("editor.BlockListBlock","editorskit/addEditorBlockAttributes",k);var y=n(7),w=wp.i18n.__,O=wp.hooks,j=O.addFilter,E=O.removeFilter,S=wp.element.Fragment,C=wp.data,x=C.withSelect,F=C.select,A=wp.compose,P=A.compose,D=A.createHigherOrderComponent,N=A.withState,T=wp.blocks.hasBlockSupport,L=wp.blockEditor.InspectorAdvancedControls,I=wp.components.FormTokenField,M=P(N({customClassNames:[]}),x(function(e,t){var n=e("core/block-editor").getSelectedBlock(),o=Object(y.get)(n,"attributes.className");return o&&(o=Object(y.replace)(o,","," ")),n&&o&&Object(y.join)(t.customClassNames," ")!==o&&t.clientId===n.clientId&&t.setState({customClassNames:Object(y.split)(o," ")}),{suggestions:e("core/editor").getEditorSettings().editorskitCustomClassNames}})),B=D(function(e){return M(function(t){var n=a()({},t),o=T(n.name,"customClassName",!0),i=n.customClassNames,r=n.suggestions,s=n.setState;return o&&n.isSelected?Object(c.createElement)(S,null,Object(c.createElement)(e,n),Object(c.createElement)(L,null,Object(c.createElement)(I,{label:w("Additional CSS Class(es)","block-options"),value:i,suggestions:r,maxSuggestions:20,onChange:function(e){n.setAttributes({className:""!==e?Object(y.join)(e," "):void 0}),s({customClassNames:""!==e?e:void 0})}}))):Object(c.createElement)(e,n)})},"withInspectorControl");F("core/edit-post").isFeatureActive("disableEditorsKitCustomClassNamesTools")||(E("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),j("editor.BlockEdit","editorskit/custom-class-name/with-inspector-control",B));var R=wp.i18n.__,H=wp.data.dispatch,U=wp.element.Fragment,V=wp.components.ToggleControl,z=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit,s=function(e){var n=!i[e];delete i[e];var s=Object.assign(r()({},e,n),i);H("core/block-editor").updateBlockAttributes(t,{editorskit:s}),o&&o()};if(void 0!==i)return Object(c.createElement)(U,null,Object(c.createElement)(V,{label:R("Hide on Desktop","block-options"),checked:void 0!==i.desktop&&!i.desktop,onChange:function(){return s("desktop")}}),Object(c.createElement)(V,{label:R("Hide on Tablet","block-options"),checked:void 0!==i.tablet&&!i.tablet,onChange:function(){return s("tablet")}}),Object(c.createElement)(V,{label:R("Hide on Mobile","block-options"),checked:void 0!==i.mobile&&!i.mobile,onChange:function(){return s("mobile")}}))},W=wp.i18n.__,K=wp.data.dispatch,q=wp.element.Fragment,J=wp.components.ToggleControl,$=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit,s=function(e){var n=!i[e];delete i[e];var s=Object.assign(r()({},e,n),i);K("core/block-editor").updateBlockAttributes(t,{editorskit:s}),o&&o()};if(void 0!==i)return Object(c.createElement)(q,null,Object(c.createElement)("div",{className:"editorskit-user-state-controls"},Object(c.createElement)("hr",{className:"editorskit-divider"}),Object(c.createElement)(J,{label:W("Hide on Loggedin Users","block-options"),help:i.loggedin?W("Toggle to hide this block when users are not logged in.","block-options"):W("Hidden when users are logged in.","block-options"),checked:void 0!==i.loggedin&&!i.loggedin,onChange:function(){return s("loggedin")}}),Object(c.createElement)(J,{label:W("Hide on Loggedout Users","block-options"),help:i.loggedout?W("Toggle to hide this block when users are guests or logged out.","block-options"):W("Hidden on guests or logged out users.","block-options"),checked:void 0!==i.loggedout&&!i.loggedout,onChange:function(){return s("loggedout")}})))},G=wp.i18n.__,Q=wp.element.Fragment,Z=wp.components.ToggleControl,X=function(e){var t=e.attributes,n=e.setAttributes,o=t.isHeightFullScreen;return Object(c.createElement)(Q,null,Object(c.createElement)(Z,{label:G("Full Screen Height","block-options"),checked:!!o,onChange:function(){return n({isHeightFullScreen:!o})},help:G(o?"Full screen height is enabled.":"Toggle to display this block's height full screen of the browser viewport.","block-options")}))},Y=wp.i18n.__,ee=wp.hooks.addFilter,te=wp.element.Fragment,ne=wp.data,oe=ne.withSelect,ie=ne.select,re=wp.blockEditor,se=re.InspectorAdvancedControls,ae=re.InspectorControls,ce=wp.compose,le=ce.compose,ue=ce.createHigherOrderComponent,pe=wp.components.PanelBody,de=wp.blocks.hasBlockSupport,fe=["core/block","core/freeform","core/shortcode","core/template","core/nextpage"],be=le(oe(function(){return{isDisabledDevices:ie("core/edit-post").isFeatureActive("disableEditorsKitDevicesVisibility"),isDisabledUserState:ie("core/edit-post").isFeatureActive("disableEditorsKitUserStateVisibility")}}));ee("editor.BlockEdit","editorskit/advanced",ue(function(e){return be(function(t){var n=a()({},t),o=n.name,i=n.attributes,r=n.setAttributes,s=n.isSelected,l=n.isDisabledDevices,u=n.isDisabledUserState,p=i.editorskit,d=i.blockOpts,f=de(o,"hasHeightFullScreen");if(void 0!==p&&!p.migrated&&d){n.attributes.editorskit=Object.assign(n.attributes.editorskit,{devices:!1,desktop:!("show"===d.devices&&"on"!==d.desktop||"hide"===d.devices&&"on"===d.desktop),tablet:!("show"===d.devices&&"on"!==d.tablet||"hide"===d.devices&&"on"===d.tablet),mobile:!("show"===d.devices&&"on"!==d.mobile||"hide"===d.devices&&"on"===d.mobile),loggedin:"out"!==d.state||"in"===d.state,loggedout:"in"!==d.state||"out"===d.state,acf_visibility:d.acf_visibility?d.acf_visibility:"",acf_field:d.acf_field?d.acf_field:"",acf_condition:d.acf_condition?d.acf_condition:"",acf_value:d.acf_value?d.acf_value:"",logic:d.logic?d.logic:"",migrated:!0}),n.attributes.className||(n.attributes.className="");var b=n.attributes.className.replace("b"+d.id,"").replace("blockopts-show","").replace("blockopts-hide","").replace("blockopts-desktop","").replace("blockopts-tablet","").replace("blockopts-mobile","");b=b.trim(),n.attributes.className=b,r({editorskit:n.attributes.editorskit,className:b})}return Object(c.createElement)(te,null,Object(c.createElement)(e,n),f&&Object(c.createElement)(se,null,X(n)),s&&!l&&!fe.includes(o)&&Object(c.createElement)(ae,null,Object(c.createElement)(pe,{title:Y("Responsive","block-options"),initialOpen:!1,className:"editorskit-panel"},Object(c.createElement)("small",null,Y("Attention: The display settings (show/hide for mobile, tablet or desktop) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","block-options")),z(n))),s&&!fe.includes(o)&&Object(c.createElement)(se,null,!u&&$(n)))})},"withAdvancedControls"));n(149);var me=n(5),he=n.n(me),ve=n(4),ge=n.n(ve),ke=n(3),ye=n.n(ke),we=n(2),Oe=n.n(we),je=n(6),_e=n.n(je),Ee=n(1),Se=n.n(Ee),Ce=wp.i18n.__,xe=wp.element.Component,Fe=wp.compose,Ae=Fe.compose,Pe=Fe.ifCondition,De=wp.data,Ne=De.select,Te=De.withSelect,Le=De.withDispatch,Ie=wp.components,Me=Ie.Button,Be=Ie.Dashicon,Re=Ie.withSpokenMessages,He=Ie.Tooltip,Ue=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).initialize=e.initialize.bind(_e()(e)),e.button=e.button.bind(_e()(e)),e}return Se()(t,e),ge()(t,[{key:"initialize",value:function(){var e=this.props,t=e.isDisabled,n=e.postmeta,o=document.querySelector(".editor-post-title__block");if(o){var i=n._editorskit_title_hidden,r=i?"editorskit-title-hidden":"editorskit-title-visible";o.insertAdjacentHTML("beforeend",'<span class="editorskit-toggle-title"></span><div class="editorskit-hidden-title-label"></div>'),i?document.body.classList.remove("editorskit-title-visible"):document.body.classList.remove("editorskit-title-hidden"),document.body.classList.add(r);var s=document.querySelector(".editorskit-toggle-title");ReactDOM.render(this.button(),s),ReactDOM.render(Object(c.createElement)("span",null,Ce("For internal use only. Title is hidden on your website.","block-options")),document.querySelector(".editorskit-hidden-title-label")),t?document.body.classList.add("editorskit-title-visible-disabled"):document.body.classList.remove("editorskit-title-visible-disabled")}}},{key:"button",value:function(){var e=this.props,t=e.onToggle,n=e.postmeta._editorskit_title_hidden;return Object(c.createElement)(He,{text:Ce("Toggle Title Visibility","block-options"),position:"top right"},Object(c.createElement)(Me,{className:"editorskit-button",isSmall:!0,onClick:t},Object(c.createElement)(Be,{icon:n?"hidden":"visibility"})))}},{key:"render",value:function(){return this.initialize(),null}}]),t}(xe),Ve=Ae(Te(function(){return{readyState:document.readyState,postmeta:Ne("core/editor").getEditedPostAttribute("meta"),isDisabled:Ne("core/edit-post").isFeatureActive("disableEditorsKitToggleTitleTools")}}),Le(function(e,t){var n;return void 0!==t.postmeta&&void 0!==t.postmeta._editorskit_title_hidden&&(n=t.postmeta._editorskit_title_hidden),{onToggle:function(){e("core/editor").editPost({meta:{_editorskit_title_hidden:!n}})}}}),Pe(function(e){return"complete"===e.readyState&&void 0!==e.postmeta&&void 0!==e.postmeta._editorskit_title_hidden}),Re)(Ue);(0,wp.plugins.registerPlugin)("editorskit-disable-title",{icon:!1,render:Ve});var ze=wp.i18n.__,We=wp.data,Ke=We.withSelect,qe=We.withDispatch,Je=We.dispatch,$e=We.select,Ge=wp.compose.compose,Qe=wp.element,Ze=Qe.Fragment,Xe=Qe.Component,Ye=wp.editPost.PluginMoreMenuItem,et=wp.components.withSpokenMessages,tt=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".edit-post-header__settings"),t='<span class="editorskit-auto-save-disabled--label">'+ze("Auto Save Disabled","block-options")+"</span>";e.insertAdjacentHTML("afterbegin",t),this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isAvailable,n=e.isActive,o=e.isDisabled,i=e.editorSettings,r=60,s=document.querySelector(".editorskit-auto-save-disabled--label");if(n||o||void 0===t||(r=259200),i.autosaveInterval!==r){var a=Object.assign(this.props.editorSettings,{autosaveInterval:r});Je("core/editor").updateEditorSettings(a),Je("core/editor").refreshPost()}s.className="editorskit-auto-save-disabled--label editorskit-auto-save-disabled--"+r}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.onToggle,o=e.editorSettings;if(t)return null;var i=this.props.isActive;return 259200!==o.autosaveInterval&&(i=!0),Object(c.createElement)(Ze,null,Object(c.createElement)(Ye,{icon:i&&"yes",role:"menuitemcheckbox",info:ze("Toggle to disable or enable editor autosaving feature.","block-options"),onClick:n},ze("Auto Save","block-options","block-options")))}}]),t}(Xe),nt=Ge([Ke(function(){return{isAvailable:$e("core/edit-post").getPreference("features").editorskitAutoSave,isActive:$e("core/edit-post").isFeatureActive("editorskitAutoSave"),isDisabled:$e("core/edit-post").isFeatureActive("disableEditorsKitAutosaveTools"),editorSettings:$e("core/editor").getEditorSettings()}}),qe(function(){return{onToggle:function(){Je("core/edit-post").toggleFeature("editorskitAutoSave")}}}),et])(tt);(0,wp.plugins.registerPlugin)("editorskit-editor-autosave",{icon:!1,render:nt});var ot=wp.i18n.__,it=wp.data,rt=it.withSelect,st=it.withDispatch,at=wp.compose.compose,ct=wp.element,lt=ct.Fragment,ut=ct.Component,pt=wp.editPost.PluginMoreMenuItem,dt=wp.components.withSpokenMessages,ft=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled;t&&!n?document.body.classList.add("is-guide-lines-on"):document.body.classList.remove("is-guide-lines-on")}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onToggle;return e.isDisabled?null:Object(c.createElement)(lt,null,Object(c.createElement)(pt,{icon:t&&"yes",role:"menuitemcheckbox",info:ot("Show visible guide lines on title and blocks","block-options"),onClick:n},ot("Block Guide Lines","block-options")))}}]),t}(ut),bt=at([rt(function(e){return{isActive:e("core/edit-post").isFeatureActive("blockGuideLines"),isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitGuidelinesTools")}}),st(function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("blockGuideLines")}}}),dt])(ft);(0,wp.plugins.registerPlugin)("editorskit-block-guidelines",{icon:!1,render:bt});var mt=wp.i18n.__,ht=wp.data,vt=ht.withSelect,gt=ht.withDispatch,kt=wp.compose.compose,yt=wp.element,wt=yt.Fragment,Ot=yt.Component,jt=wp.editPost.PluginMoreMenuItem,_t=wp.components.withSpokenMessages,Et=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled;t&&!n?document.body.classList.add("is-editorkit-height-on"):document.body.classList.remove("is-editorkit-height-on")}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onToggle;return e.isDisabled?null:Object(c.createElement)(wt,null,Object(c.createElement)(jt,{icon:t&&"yes",role:"menuitemcheckbox",info:mt("Toggle to change editor min-height similar to browser viewport.","block-options"),onClick:n},mt("Editor Height","block-options")))}}]),t}(Ot),St=kt([vt(function(e){return{isActive:e("core/edit-post").isFeatureActive("editorMinHeight"),isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitHeightTools")}}),gt(function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("editorMinHeight")}}}),_t])(Et);(0,wp.plugins.registerPlugin)("editorskit-editor-height",{icon:!1,render:St});var Ct=wp.i18n.__,xt=[{title:Ct("Markdown Formatting","block-options"),shortcuts:[{keyCombination:["##","SPACE"],description:Ct("Large header (h2)","block-options")},{keyCombination:["###","SPACE"],description:Ct("Medium header (h3)","block-options")},{keyCombination:["####","SPACE"],description:Ct("Small header (h4)","block-options")},{keyCombination:["1.","SPACE"],description:Ct("Numbered list","block-options")},{keyCombination:["*","SPACE"],description:Ct("Bulleted list","block-options")},{keyCombination:[">","SPACE"],description:Ct("Blockquote","block-options")},{keyCombination:["_italic_"],description:Ct("Italic","block-options")},{keyCombination:["*bold*"],description:Ct("Bold","block-options")},{keyCombination:["~Strikethrough~"],description:Ct("Strikethrough","block-options")},{keyCombination:["`code`"],description:Ct("Code","block-options")}]}],Ft=wp.i18n.__,At=wp.element,Pt=At.Fragment,Dt=At.Component,Nt=wp.editPost.PluginMoreMenuItem,Tt=wp.compose,Lt=Tt.compose,It=Tt.ifCondition,Mt=wp.data,Bt=Mt.select,Rt=Mt.withSelect,Ht=wp.components,Ut=Ht.withSpokenMessages,Vt=Ht.Modal,zt=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={isOpen:!1},e}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this,t=function(e){var t=e.shortcuts;return Object(c.createElement)("dl",{className:"edit-post-keyboard-shortcut-help__shortcut-list"},t.map(function(e,t){var n=e.keyCombination,o=e.description,i=e.ariaLabel;return Object(c.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut",key:t},Object(c.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-description"},o),Object(c.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-term"},Object(c.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help__shortcut-key-combination","aria-label":i},function(e){return e.map(function(e,t){return"+"===e?Object(c.createElement)(Pt,{key:t},e):Object(c.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help__shortcut-key"},e)})}(Object(y.castArray)(n)))))}))},n=function(e){var n=e.title,o=e.shortcuts;return Object(c.createElement)("section",{className:"edit-post-keyboard-shortcut-help__section"},Object(c.createElement)("h2",{className:"edit-post-keyboard-shortcut-help__section-title"},n),Object(c.createElement)(t,{shortcuts:o}))};return Object(c.createElement)(Pt,null,Object(c.createElement)(Nt,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},Ft("Markdown Formatting","block-options")),this.state.isOpen?Object(c.createElement)(Vt,{title:Ft("Keyboard Shortcuts","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Ft("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-markdown"},xt.map(function(e,t){return Object(c.createElement)(n,a()({key:t},e))})):null)}}]),t}(Dt),Wt=Lt(Rt(function(){return{isDisabled:Bt("core/edit-post").isFeatureActive("disableEditorsKitMarkdownWriting")}}),It(function(e){return!e.isDisabled}),Ut)(zt);(0,wp.plugins.registerPlugin)("editorskit-markdown-formatting",{icon:!1,render:Wt});var Kt=wp.i18n.__,qt=wp.data.withSelect,Jt=wp.compose.compose,$t=wp.element,Gt=$t.Fragment,Qt=$t.Component,Zt=wp.editPost.PluginMoreMenuItem,Xt=wp.components.withSpokenMessages,Yt=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled;return!t||n?null:Object(c.createElement)(Gt,null,Object(c.createElement)(Zt,{role:"menuitemcheckbox",onClick:function(){var e=document.querySelectorAll(".edit-post-layout__metaboxes");e[0]&&e[0].scrollIntoView()}},Kt("View Custom Fields","block-options")))}}]),t}(Qt),en=Jt([qt(function(e){return{isActive:e("core/editor").getEditorSettings().enableCustomFields,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitScrollDownTools")}}),Xt])(Yt);(0,wp.plugins.registerPlugin)("editorskit-scrolldown",{icon:!1,render:en});var tn=n(15),nn=n.n(tn),on=wp.i18n.__,rn=wp.data,sn=rn.withSelect,an=rn.withDispatch,cn=rn.select,ln=wp.compose.compose,un=wp.element,pn=un.Fragment,dn=un.Component,fn=wp.editPost.PluginMoreMenuItem,bn=wp.components,mn=bn.withSpokenMessages,hn=bn.Modal,vn=bn.CheckboxControl,gn=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kn=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={isOpen:!1},e}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.editorSettings,o=t.onToggle;return Object(c.createElement)(pn,null,Object(c.createElement)(fn,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},on("EditorsKit Settings","block-options")),this.state.isOpen?Object(c.createElement)(hn,{title:on("EditorsKit Features Manager","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:on("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-features-manager"},nn()(n.editorskit,function(e){return Object(c.createElement)("section",{className:"edit-post-options-modal__section"},Object(c.createElement)("h2",{className:"edit-post-options-modal__section-title"},e.label),Object(c.createElement)("ul",{className:"edit-post-editorskit-manager-modal__checklist"},nn()(e.items,function(t){return Object(c.createElement)("li",{className:"edit-post-editorskit-manager-modal__checklist-item"},Object(c.createElement)(vn,{className:"edit-post-options-modal__option",label:t.label,checked:!cn("core/edit-post").isFeatureActive("disableEditorsKit"+gn(t.name)+gn(e.name)),onChange:function(){return o(e.name,t.name)}}))})))})):null)}}]),t}(dn),yn=ln([sn(function(){return{editorSettings:cn("core/editor").getEditorSettings(),preferences:cn("core/edit-post").getPreferences()}}),an(function(e){return{onToggle:function(t,n){e("core/edit-post").toggleFeature("disableEditorsKit"+gn(n)+gn(t))}}}),mn])(kn);(0,wp.plugins.registerPlugin)("editorskit-features-manager",{icon:!1,render:yn});var wn=wp.data.withSelect,On=wp.compose.compose,jn=wp.element.Component,_n=wp.components.withSpokenMessages,En=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={isLoaded:!1},e}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"addCodeMirror",value:function(){var e=this.props,t=e.isDisabled,n=e.editorMode;if(t)return null;if("text"!==n||this.state.isLoaded)"visual"===n&&this.state.isLoaded&&this.setState({isLoaded:!1});else{var o=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};document.body.classList.add("editorskit-editor-loaded"),o.codemirror=_.extend({},o.codemirror,{mode:"text/html",lineNumbers:!0,indentUnit:2,tabSize:2,height:"auto",lineWrapping:!0,scrollbarStyle:"null"});var i=document.querySelector(".editor-post-text-editor");wp.codeEditor.initialize(i,o),this.setState({isLoaded:!0})}}},{key:"render",value:function(){return null}}]),t}(jn),Sn=On([wn(function(e){return{readyState:document.readyState,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitCodeHighlightTools"),editorMode:e("core/edit-post").getEditorMode()}}),_n])(En);(0,wp.plugins.registerPlugin)("editorskit-code-editor",{icon:!1,render:Sn});var Cn=wp.data.withSelect,xn=wp.compose.compose,Fn=wp.element.Component,An=wp.components.withSpokenMessages,Pn=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){this.props.isDisabled?document.body.classList.remove("is-editorskit-heading-label-on"):document.body.classList.add("is-editorskit-heading-label-on")}},{key:"render",value:function(){return null}}]),t}(Fn),Dn=xn([Cn(function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitHeadingLabelWriting")}}),An])(Pn);(0,wp.plugins.registerPlugin)("editorskit-heading-label",{icon:!1,render:Dn});var Nn=n(17),Tn=n.n(Nn),Ln=wp.element,In=Ln.Component,Mn=Ln.Fragment,Bn=wp.editor.mediaUpload,Rn=wp.compose.compose,Hn=wp.components,Un=Hn.DropZone,Vn=Hn.withSpokenMessages,zn=wp.data,Wn=zn.withDispatch,Kn=zn.select,qn=["image"],Jn=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).addFile=e.addFile.bind(_e()(e)),e.onSelectFile=e.onSelectFile.bind(_e()(e)),e}return Se()(t,e),ge()(t,[{key:"addFile",value:function(e){var t=this;document.body.classList.add("is-editorskit-uploading-featured"),Bn({allowedTypes:qn,filesList:e,onFileChange:function(e){var n=Tn()(e,1)[0];return t.onSelectFile(n)}})}},{key:"onSelectFile",value:function(e){e&&e.url&&this.props.onUpdateImage(e)}},{key:"render",value:function(){return Object(c.createElement)(Mn,null,Object(c.createElement)(Un,{onFilesDrop:this.addFile,label:this.props.label}))}}]),t}(In),$n=Rn(Wn(function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id}),Kn("core/editor").getEditedPostAttribute("featured_media")===e.id&&document.body.classList.remove("is-editorskit-uploading-featured")},onRemoveImage:function(){t({featured_media:0})}}}),Vn)(Jn),Gn=wp.i18n.__,Qn=wp.hooks.applyFilters,Zn=wp.editor.PostFeaturedImageCheck,Xn=wp.blockEditor,Yn=Xn.MediaUpload,eo=Xn.MediaUploadCheck,to=wp.components,no=to.Button,oo=to.Spinner,io=to.ResponsiveWrapper,ro=["image"],so=Gn("Featured Image","block-options"),ao=Gn("Set Featured Image","block-options"),co=Gn("Remove Image","block-options"),lo=function(e){var t,n,o,i=e.currentPostId,r=e.featuredImageId,s=e.onUpdateImage,a=e.onRemoveImage,l=e.media,u=e.postType,p=Object(y.get)(u,["labels"],{}),d=Object(c.createElement)("p",null,Gn("To edit the featured image, you need permission to upload media."));if(l){var f=Qn("editor.PostFeaturedImage.imageSize","post-thumbnail",l.id,i);Object(y.has)(l,["media_details","sizes",f])?(t=l.media_details.sizes[f].width,n=l.media_details.sizes[f].height,o=l.media_details.sizes[f].source_url):(t=l.media_details.width,n=l.media_details.height,o=l.source_url)}var b=Object(c.createElement)($n,{label:Gn("Upload Featured Image","block-options")});return Object(c.createElement)(Zn,null,Object(c.createElement)("div",{className:"editor-post-featured-image editorskit-post-featured-image"},Object(c.createElement)(eo,{fallback:d},b,Object(c.createElement)("div",{className:"editorskit-post-featured-spinner"},Object(c.createElement)(oo,null)),Object(c.createElement)(Yn,{title:p.featured_image||so,onSelect:s,allowedTypes:ro,modalClass:"editor-post-featured-image__media-modal",render:function(e){var i=e.open;return Object(c.createElement)(no,{className:r?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:i,"aria-label":r?Gn("Edit or update the image"):null},!!r&&l&&Object(c.createElement)(io,{naturalWidth:t,naturalHeight:n},Object(c.createElement)("img",{src:o,alt:""})),!!r&&!l&&Object(c.createElement)(oo,null),!r&&(p.set_featured_image||ao))},value:r})),!!r&&l&&!l.isLoading&&Object(c.createElement)(eo,null,Object(c.createElement)(Yn,{title:p.featured_image||so,onSelect:s,allowedTypes:ro,modalClass:"editor-post-featured-image__media-modal",render:function(e){var t=e.open;return Object(c.createElement)(no,{onClick:t,isDefault:!0,isLarge:!0},Gn("Replace Image"))}})),!!r&&Object(c.createElement)(eo,null,Object(c.createElement)(no,{onClick:a,isLink:!0,isDestructive:!0},p.remove_featured_image||co))))},uo=wp.hooks.addFilter,po=wp.compose,fo=po.compose,bo=po.createHigherOrderComponent,mo=wp.element.Fragment,ho=wp.components.withSpokenMessages,vo=wp.data,go=vo.withSelect,ko=vo.withDispatch,yo=fo(go(function(e){var t=e("core"),n=t.getMedia,o=t.getPostType,i=e("core/editor"),r=i.getCurrentPostId,s=i.getEditedPostAttribute,a=s("featured_media");return{media:a?n(a):null,currentPostId:r(),postType:o(s("type")),featuredImageId:a,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitDragAndDropFeaturedTools")}}),ko(function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id})},onRemoveImage:function(){t({featured_media:0})}}}),ho);uo("editor.PostFeaturedImage","editorskit/post-featured-image",bo(function(e){return yo(function(t){var n=a()({},t),o=n.isDisabled;return Object(c.createElement)(mo,null,o?Object(c.createElement)(e,n):Object(c.createElement)(lo,n))})},"withDragandDropFeaturedImage"));var wo=wp.i18n.__,Oo=wp.data,jo=Oo.select,_o=Oo.withSelect,Eo=Oo.withDispatch,So=wp.element,Co=So.Fragment,xo=So.Component,Fo=wp.components.withSpokenMessages,Ao=wp.editPost.PluginBlockSettingsMenuItem,Po=wp.compose,Do=Po.compose,No=Po.ifCondition,To=["core/image"],Lo=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.imageID,n=e.featuredImageID,o=e.onUpdateImage,i=e.onRemoveImage;return Object(c.createElement)(Co,null,Object(c.createElement)(Ao,{icon:"format-image",label:wo(t===n?"Remove as Featured Image":"Set as Featured Image","block-options"),onClick:function(){t===n?i():o(t)}}))}}]),t}(xo),Io=Do(_o(function(){var e=jo("core/block-editor").getSelectedBlock();return e?{featuredImageID:jo("core/editor").getEditedPostAttribute("featured_media"),blockName:e.name,imageID:Object(y.get)(e,"attributes.id"),isDisabled:jo("core/edit-post").isFeatureActive("disableEditorsKitSetAsFeaturedTools")}:{}}),Eo(function(e){var t=e("core/editor").editPost,n=e("core/notices").createNotice;return{onUpdateImage:function(e){t({featured_media:e}),n("info",wo("Image Set as Featured.","block-options"),{isDismissible:!0,type:"snackbar"})},onRemoveImage:function(){t({featured_media:0}),n("info",wo("Featured Image Removed.","block-options"),{isDismissible:!0,type:"snackbar"})}}}),No(function(e){return!e.isDisabled&&To.includes(e.blockName)&&void 0!==e.imageID}),Fo)(Lo);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}(0,wp.plugins.registerPlugin)("editorskit-set-as-featured-image",{icon:"format-image",render:Io});var Bo=wp.i18n.__,Ro=wp.data,Ho=Ro.select,Uo=Ro.withSelect,Vo=Ro.withDispatch,zo=wp.element,Wo=zo.Fragment,Ko=zo.Component,qo=wp.components.withSpokenMessages,Jo=wp.editPost.PluginBlockSettingsMenuItem,$o=wp.compose,Go=$o.compose,Qo=$o.ifCondition,Zo=wp.richText,Xo=Zo.create,Yo=Zo.toHTMLString,ei=["core/paragraph","core/heading"],ti=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.blockName,o=e.blockContent,i=e.clearBlockFormatting,s=Xo({html:o});return Object(c.createElement)(Wo,null,Object(c.createElement)(Jo,{icon:"editor-removeformatting",label:Bo("Clear Block Formatting","block-options"),onClick:function(){i(t,n,Yo({value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s,{formats:Array(s.formats.length)})}))}}))}}]),t}(Ko),ni=Go(Uo(function(){var e=Ho("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockContent:Object(y.get)(e,"attributes.content"),isDisabled:Ho("core/edit-post").isFeatureActive("disableEditorsKitClearFormattingFormats")}:{}}),Vo(function(e){var t=e("core/block-editor").updateBlockAttributes;return{clearBlockFormatting:function(e,n,o){t(e,{content:o})}}}),Qo(function(e){return!e.isDisabled&&ei.includes(e.blockName)}),qo)(ti);(0,wp.plugins.registerPlugin)("editorskit-block-clear-formatting",{icon:"editor-removeformatting",render:ni});var oi=wp.i18n.__,ii=wp.data.dispatch,ri=wp.element.Fragment,si=wp.components.TextareaControl,ai=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit;return Object(c.createElement)(ri,null,Object(c.createElement)("div",{className:"editorskit-button-group-container editorskit-button-group-logic"},Object(c.createElement)(si,{rows:"2",label:oi("Conditional Logic","block-options"),help:oi("Add valid PHP conditional tags for custom & advanced visibility options.","block-options"),value:i.logic?i.logic:null,onChange:function(e){delete i.logic;var n=Object.assign({logic:e},i);ii("core/block-editor").updateBlockAttributes(t,{editorskit:n}),o&&o()}})))},ci=n(13),li=n.n(ci);function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var pi=wp.apiFetch,di={setACFields:function(e){return{type:"SET_ACF_FIELDS",ACFfields:e}},receiveACFields:function(e){return{type:"RECEIVE_ACF_FIELDS",path:e}},fetchFromAPI:function(e){return{type:"FETCH_FROM_API",path:e}}};(0,wp.data.registerStore)("editorskit/acf",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ACFfields:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACF_FIELDS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{ACFfields:t.ACFfields});case"RECEIVE_ACF_FIELDS":return t.ACFfields}return e},actions:di,selectors:{receiveACFields:function(e){return e.ACFfields}},controls:{FETCH_FROM_API:function(e){return pi({path:e.path})}},resolvers:{receiveACFields:li.a.mark(function e(){var t,n;return li.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/editorskit/v1/acf",e.next=3,di.fetchFromAPI(t);case 3:return n=e.sent,e.next=6,di.setACFields(n);case 6:case"end":return e.stop()}},e)})}});var fi=wp.i18n.__,bi=wp.data,mi=bi.dispatch,hi=bi.withSelect,vi=wp.element,gi=vi.Fragment,ki=vi.Component,yi=wp.components,wi=yi.SelectControl,Oi=yi.TextareaControl,ji=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.acf,n=e.selectedBlock,o=n.clientId,i=n.attributes,s=n.reloadModal,a=i.editorskit,l=function(e,t){delete a[e];var n=Object.assign(r()({},e,t),a);mi("core/block-editor").updateBlockAttributes(o,{editorskit:n}),s&&s()},u=[{label:fi("Select Field","block-options"),value:""}];if(t){if(void 0!==t&&!Object(y.isEmpty)(t)){var p=t;for(var d in p)u.push({label:p[d],value:d});return Object(c.createElement)(gi,null,Object(c.createElement)("div",{className:"editorskit-button-group-container editorskit-button-group-acf"},Object(c.createElement)("label",{className:"components-base-control__label"},fi("Advanced Custom Fields","block-options"))," ",Object(c.createElement)(wi,{value:void 0!==a.acf_visibility&&""!==a.acf_visibility?a.acf_visibility:"",options:[{label:fi("Select Visibility Option","block-options"),value:"none"},{label:fi("Hide when Condition's met","block-options"),value:"hide"},{label:fi("Show when Condition's met","block-options"),value:"show"}],onChange:function(e){return l("acf_visibility",e)}}),Object(c.createElement)(wi,{value:void 0!==a.acf_field&&""!==a.acf_field?a.acf_field:"",options:u,onChange:function(e){return l("acf_field",e)}}),Object(c.createElement)(wi,{value:void 0!==a.acf_condition&&""!==a.acf_condition?a.acf_condition:"",options:[{label:fi("Select Condition","block-options"),value:"none"},{label:fi("Is Equal to","block-options"),value:"equal"},{label:fi("Is Not Equal to","block-options"),value:"not_equal"},{label:fi("Contains","block-options"),value:"contains"},{label:fi("Does Not Contain","block-options"),value:"not_contains"},{label:fi("Is Empty","block-options"),value:"empty"},{label:fi("Is Not Empty","block-options"),value:"not_empty"}],onChange:function(e){return l("acf_condition",e)}}),Object(c.createElement)(Oi,{label:fi("Conditional Value","block-options"),rows:"3",value:a.acf_value,onChange:function(e){return l("acf_value",e)},help:fi("Additional support for Advanced Custom Fields plugin. Will automatically show when you have the plugin installed and activated.","block-options")})))}return null}}}]),t}(ki),_i=hi(function(e){return{acf:e("editorskit/acf").receiveACFields()}})(ji),Ei=wp.i18n.__,Si=wp.data.withSelect,Ci=wp.element,xi=Ci.Fragment,Fi=Ci.Component,Ai=wp.components,Pi=Ai.Modal,Di=Ai.TabPanel,Ni=Ai.withSpokenMessages,Ti=wp.editPost.PluginBlockSettingsMenuItem,Li=wp.compose.compose,Ii=["core/freeform","core/shortcode","core/block","core/template"],Mi=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).reloadModal=e.reloadModal.bind(_e()(e)),e.state={settings:"",isOpen:!1,reload:!1},e}return Se()(t,e),ge()(t,[{key:"reloadModal",value:function(){this.setState({reload:!this.state.reload})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isDisabledDevices,o=t.isDisabledUserState,i=t.isDisabledLogic,r=t.isDisabledACF,s=this.props.selectedBlock;s=Object.assign({reloadModal:this.reloadModal},s);var a=[];return n&&o||a.push({name:"default",title:Ei("Default","block-options"),className:"editorskit-default"}),i&&r||a.push({name:"advanced",title:Ei("Advanced","block-options"),className:"editorskit-advanced"}),n&&o&&i&&r?null:void 0!==s.name&&Ii.includes(s.name)?null:Object(c.createElement)(xi,null,Object(c.createElement)(Ti,{icon:"visibility",label:Ei("Visibility Settings","block-options"),onClick:function(){e.setState({isOpen:!0})}}),this.state.isOpen&&void 0!==s.name&&!Ii.includes(s.name)?Object(c.createElement)(Pi,{title:Ei("Visibility Settings","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Ei("Close","block-options"),className:"editorskit-components-modal__content"},Object(c.createElement)(Di,{className:"editorskit-tab-panel",activeClass:"is-active",tabs:a},function(e){switch(e.name){case"advanced":return[!i&&ai(s),!r&&Object(c.createElement)(_i,{selectedBlock:s})];default:return[Object(c.createElement)("small",null,Ei("Attention: The display settings (show/hide for mobile, tablet, desktop or users) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","block-options")),!n&&z(s),!o&&$(s)]}})):null)}}]),t}(Fi),Bi=Li(Si(function(e){var t=e("core/block-editor").getSelectedBlock();return t?{selectedBlock:t,isDisabledDevices:e("core/edit-post").isFeatureActive("disableEditorsKitDevicesVisibility"),isDisabledUserState:e("core/edit-post").isFeatureActive("disableEditorsKitUserStateVisibility"),isDisabledLogic:e("core/edit-post").isFeatureActive("disableEditorsKitLogicVisibility"),isDisabledACF:e("core/edit-post").isFeatureActive("disableEditorsKitAcfVisibility")}:{}}),Ni)(Mi);(0,wp.plugins.registerPlugin)("editorskit-block-settings",{icon:"visibility",render:Bi});var Ri=n(26),Hi=n.n(Ri);function Ui(e,t,n){var o=new window.Blob([t],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{var i=document.createElement("a");i.href=URL.createObjectURL(o),i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}function Vi(){return(Vi=Hi()(li.a.mark(function e(t){var n,o,i,r,s;return li.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 2:return n=e.sent,e.next=5,wp.apiFetch({path:"/wp/v2/".concat(n.rest_base,"/").concat(t,"?context=edit")});case 5:o=e.sent,i=o.title.raw,r=o.content.raw,s=JSON.stringify({__file:"wp_block",title:i,content:r},null,2),Ui(Object(y.kebabCase)(i)+".json",s,"application/json");case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var zi=function(e){return Vi.apply(this,arguments)},Wi=wp.i18n.__,Ki=wp.data,qi=Ki.withSelect,Ji=Ki.select,$i=wp.compose,Gi=$i.compose,Qi=$i.ifCondition,Zi=wp.element,Xi=Zi.Fragment,Yi=Zi.Component,er=wp.editPost.PluginBlockSettingsMenuItem,tr=wp.components.withSpokenMessages,nr=wp.blocks.serialize,or=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).saveAsJSON=e.saveAsJSON.bind(_e()(e)),e}return Se()(t,e),ge()(t,[{key:"saveAsJSON",value:function(){var e=this.props,t=e.selectedBlockCount,n=e.selectedBlock,o=e.selectedBlocks;if(!(t<1)){var i;if(1===t){if("core/block"===n.name)return void zi(n.attributes.ref);i=nr(n)}t>1&&(i=nr(o));var r=JSON.stringify({__file:"core_block",content:i},null,2);Ui(Object(y.kebabCase)("editorskit/export")+".json",r,"application/json")}}},{key:"render",value:function(){return Object(c.createElement)(Xi,null,Object(c.createElement)(er,{icon:"share-alt2",label:Wi("Export as JSON","block-options"),onClick:this.saveAsJSON}))}}]),t}(Yi),ir=Gi([qi(function(){var e=Ji("core/block-editor"),t=e.getSelectedBlockCount,n=e.getSelectedBlock,o=e.getMultiSelectedBlocks,i=Ji("core/block-editor").getBlock;return{selectedBlockCount:t(),selectedBlock:n(),selectedBlocks:o(),isDisabled:Ji("core/edit-post").isFeatureActive("disableEditorsKitExportTools"),getBlock:i}}),Qi(function(e){return!e.isDisabled}),tr])(or);(0,wp.plugins.registerPlugin)("editorskit-features-import-export",{icon:!1,render:ir});var rr=n(14),sr=n.n(rr),ar=wp.i18n.__,cr=wp.element.Fragment,lr=wp.richText.toggleFormat,ur=wp.blockEditor,pr=ur.RichTextToolbarButton,dr=ur.RichTextShortcut,fr=wp.data.select,br={name:"editorskit/underline",title:ar("Underline","block-options"),tagName:"span",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=fr("core/edit-post").isFeatureActive("disableEditorsKitUnderlineFormats"),r=fr("core/rich-text").getFormatTypes().filter(function(e){return"wpcom/underline"===e.name}),s=function(){o(lr(n,{type:"editorskit/underline",attributes:{style:"text-decoration: underline;"}}))};return Object(c.createElement)(cr,null,Object(c.createElement)(dr,{type:"primary",character:"u",onUse:s}),!i&&0===r.length&&Object(c.createElement)(pr,{icon:"editor-underline",title:ar("Underline","block-options"),onClick:s,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}},mr=wp.i18n.__,hr=wp.element.Component,vr=wp.compose,gr=vr.compose,kr=vr.ifCondition,yr=wp.data,wr=yr.select,Or=yr.withSelect,jr=yr.withDispatch,_r=wp.blockEditor.RichTextToolbarButton,Er=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.isBlockJustified,o=e.isDisabled,i=e.updateBlockAttributes;if(o)return null;return Object(c.createElement)(_r,{icon:"editor-justify",title:mr("Justify","block-options"),onClick:function(){i(t,{align:n?null:"justify"})},isActive:n})}}]),t}(hr),Sr=gr(Or(function(){var e=wr("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,isBlockJustified:"justify"===Object(y.get)(e,"attributes.align"),isDisabled:wr("core/edit-post").isFeatureActive("disableEditorsKitJustifyFormats"),formatTypes:wr("core/rich-text").getFormatTypes()}:{}}),jr(function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}}),kr(function(e){var t=e.formatTypes.filter(function(e){return"wpcom/justify"===e.name});return"core/paragraph"===e.blockName&&0===t.length}))(Er),Cr=wp.i18n.__,xr=wp.element.Fragment,Fr={name:"editorskit/justify",title:Cr("Align text justify","block-options"),tagName:"p",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(xr,null,Object(c.createElement)(Sr,{name:"editorskit/justify",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Ar=wp.i18n.__,Pr=wp.element,Dr=Pr.Component,Nr=Pr.Fragment,Tr=wp.data,Lr=Tr.select,Ir=Tr.withSelect,Mr=wp.blockEditor.BlockControls,Br=wp.richText,Rr=Br.applyFormat,Hr=Br.removeFormat,Ur=Br.getActiveFormat,Vr=wp.components,zr=Vr.Toolbar,Wr=Vr.IconButton,Kr=Vr.Popover,qr=Vr.ColorPalette,Jr=wp.compose,$r=Jr.compose,Gr=Jr.ifCondition,Qr=Ar("Text Color","block-options"),Zr=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).toggle=e.toggle.bind(_e()(e)),e.state={isOpen:!1},e}return Se()(t,e),ge()(t,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,n=this.state.isOpen,o=this.props,i=o.value,r=o.onChange,s=Object(y.get)(Lr("core/block-editor").getSettings(),["colors"],[]),a=Ur(i,"editorskit/color");if(a){var l=a.attributes.style;l&&(e=l.replace(new RegExp("^color:\\s*"),""))}return Object(c.createElement)(Nr,null,Object(c.createElement)(Mr,null,Object(c.createElement)(zr,{className:"editorskit-components-toolbar"},Object(c.createElement)(Wr,{className:"components-button components-icon-button components-editorskit-toolbar__control components-toolbar__control components-editorskit-color-format",icon:"editor-textcolor","aria-haspopup":"true",tooltip:Qr,onClick:this.toggle},Object(c.createElement)("span",{className:"components-editorskit-inline-color__indicator",style:{backgroundColor:e}})),n&&Object(c.createElement)(Kr,{position:"bottom center",className:"components-editorskit__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-editorskit-color-format")||document.querySelector(".components-editorskit-color-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!n})}},Object(c.createElement)(qr,{colors:s,value:e,onChange:function(e){r(e?Rr(i,{type:"editorskit/color",attributes:{style:"color:".concat(e)}}):Hr(i,"editorskit/color"))}})))))}}]),t}(Dr),Xr=$r(Ir(function(){return{isDisabled:Lr("core/edit-post").isFeatureActive("disableEditorsKitColorsFormats")}}),Gr(function(e){return!e.isDisabled}))(Zr),Yr={name:"editorskit/color",title:(0,wp.i18n.__)("Text Color","block-options"),tagName:"span",className:"has-inline-color",attributes:{style:"style"},edit:Xr},es={};es.highlighter=Object(c.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",viewBox:"0 0 512 512"}," ",Object(c.createElement)("path",{d:"M240.2,369.1 C244.39999999999998,373.3 251.2,373 255.10000000000002,368.6 L465.7,125.4 C474.5,115.3 474,100.2 464.5,90.7 L426.3,52.5 C416.8,43 401.7,42.5 391.6,51.3 L148.4,262 C143.9,265.9 143.7,272.7 147.9,276.9 L240.2,369.1 z",id:"svg_2"})," ",Object(c.createElement)("path",{d:"M48.2,449.7 L86.5,462.5 L104.5,444.5 L172.1,444.5 C174.8,444.5 177.4,443.4 179.3,441.5 L205.1,415.7 C209.1,411.7 209.1,405.3 205.1,401.3 L111.6,308 C107.6,304 101.19999999999999,304 97.19999999999999,308 L71.4,333.8 C69.5,335.7 68.4,338.3 68.4,341 L68.4,404.4 C68.4,407.1 67.3,409.7 65.4,411.6 L44.099999999999994,432.9 C38.900000000000006,438.2 41.099999999999994,447.3 48.2,449.7 z",id:"svg_3"})," ");var ts=es,ns=wp.i18n.__,os=wp.element,is=os.Component,rs=os.Fragment,ss=wp.data,as=ss.select,cs=ss.withSelect,ls=wp.blockEditor.BlockControls,us=wp.richText,ps=us.applyFormat,ds=us.removeFormat,fs=us.getActiveFormat,bs=wp.components,ms=bs.Toolbar,hs=bs.IconButton,vs=bs.Popover,gs=bs.ColorPalette,ks=wp.compose,ys=ks.compose,ws=ks.ifCondition,Os=ns("Highlight Color","block-options"),js=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).toggle=e.toggle.bind(_e()(e)),e.state={isOpen:!1},e}return Se()(t,e),ge()(t,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,n=this.state.isOpen,o=this.props,i=o.value,r=o.onChange,s=o.isActive,a=[{name:ns("Marker Default","block-options"),slug:"marker-default",color:"#fff9c0"},{name:ns("Orange Sunrise","block-options"),slug:"orange-sunrise",color:"#f7cc62"},{name:ns("Pink Flamingo","block-options"),slug:"pink-flamingo",color:"#ffbfb5"},{name:ns("Spring Green","block-options"),slug:"spring-green",color:"#b5dcaf"},{name:ns("Blue Moon","block-options"),slug:"blue-moon",color:"#d6e8fa"},{name:ns("Purple Mist","block-options"),slug:"purple-mist",color:"#d8c3ff"}],l=fs(i,"editorskit/background");if(l){var p=l.attributes.style;p&&(e=p.replace(new RegExp("^background-color:\\s*"),""))}return Object(c.createElement)(rs,null,Object(c.createElement)(ls,null,Object(c.createElement)(ms,{className:"editorskit-components-toolbar"},Object(c.createElement)(hs,{className:u()("components-button components-icon-button components-editorskit-toolbar__control components-toolbar__control components-editorskit-background-format",{"is-active":s}),icon:ts.highlighter,"aria-haspopup":"true",tooltip:Os,onClick:this.toggle}),n&&Object(c.createElement)(vs,{position:"bottom center",className:"components-editorskit__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-editorskit-background-format")||document.querySelector(".components-editorskit-background-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!n})}},Object(c.createElement)(gs,{colors:a,value:e,onChange:function(e){r(e?ps(i,{type:"editorskit/background",attributes:{style:"background-color:".concat(e)}}):ds(i,"editorskit/background"))}})))))}}]),t}(is),_s=ys(cs(function(){return{isDisabled:as("core/edit-post").isFeatureActive("disableEditorsKitHighlightFormats")}}),ws(function(e){return!e.isDisabled}))(js),Es={name:"editorskit/background",title:(0,wp.i18n.__)("Background Color","block-options"),tagName:"span",className:"has-inline-background",attributes:{style:"style"},edit:_s};function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var Cs=wp.element.Component,xs=wp.compose,Fs=xs.compose,As=xs.ifCondition,Ps=wp.data,Ds=Ps.select,Ns=Ps.withSelect,Ts=Ps.withDispatch,Ls=wp.richText,Is=Ls.applyFormat,Ms=Ls.getTextContent,Bs=Ls.remove,Rs=wp.components.withSpokenMessages,Hs=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={start:null,end:null},e}return Se()(t,e),ge()(t,[{key:"_experimentalMarkdown",value:function(e,t,n,o){var i=e.start,s=Ms(e);if(s.slice(i-1,i)!==n)return e;var a=s.slice(0,i-1).lastIndexOf(n);if(-1===a)return e;var c=a,l=i-2;if(c===l)return e;if(s.slice(c,l+1).split("\n").length>1)return e;var u=function(e){var t=e.formats,n=e.start,o=e.end,i=e.activeFormats;if(void 0===n)return[];if(n===o){if(i)return i;var r=t[n-1]||[],s=t[n]||[];return r.length<s.length?r:s}return t[n]||[]}(e);if(u.length>0&&u.filter(function(e){return"core/code"===e.type}))return e;var p=s.slice(c-1,c);return 1===p.length&&p.match(/[A-Z|a-z]/i)?e:" "===s.slice(c+1,c+2)?e:(e=Bs(e,c,c+1),e=Bs(e,l,l+1),e=Is(e,{type:o},c,l),wp.data.dispatch("core/block-editor").stopTyping(),this.setState({start:c,end:l}),e.activeFormats=[],t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{needsSelectionUpdate:!0})),e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.onChange;return nn()({bold:{markdown:"*",format:"core/bold"},italic:{markdown:"_",format:"core/italic"},strikethrough:{markdown:"~",format:"core/strikethrough"}},function(t){e._experimentalMarkdown(n,o,t.markdown,t.format)}),null}}]),t}(Cs),Us=Fs(Ns(function(){return{isDisabled:Ds("core/edit-post").isFeatureActive("disableEditorsKitMarkdownWriting")}}),Ts(function(e,t){var n=t.clientId,o=t.instanceId,i=t.identifier,r=void 0===i?o:i,s=e("core/block-editor").selectionChange;return{onSelectionChange:function(e,t){s(n,r,e,t)}}}),As(function(e){return!e.isDisabled}),Rs)(Hs),Vs=wp.i18n.__,zs=wp.element.Fragment,Ws={name:"editorskit/markdown",title:Vs("Underline","block-options"),tagName:"p",className:"editorskit-markdown",attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(zs,null,Object(c.createElement)(Us,{name:"editorskit/markdown",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Ks={};Ks.subscript=Object(c.createElement)("svg",{viewBox:"-85 -975 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(c.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 50v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var qs=Ks,Js=wp.i18n.__,$s=wp.element,Gs=$s.Fragment,Qs=$s.Component,Zs=wp.compose,Xs=Zs.compose,Ys=Zs.ifCondition,ea=wp.data,ta=ea.select,na=ea.withSelect,oa=wp.blockEditor,ia=oa.RichTextToolbarButton,ra=oa.RichTextShortcut,sa=wp.richText,aa=sa.toggleFormat,ca=sa.removeFormat,la=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,o=e.isActive,i=e.onChange,r=function(){var e=ca(n,"editorskit/superscript");i(aa(e,{type:t}))};return Object(c.createElement)(Gs,null,Object(c.createElement)(ra,{type:"primary",character:",",onUse:r}),Object(c.createElement)(ia,{icon:qs.subscript,title:Js("Subscript","block-options"),onClick:r,isActive:o}))}}]),t}(Qs),ua=Xs(na(function(){return{isDisabled:ta("core/edit-post").isFeatureActive("disableEditorsKitSubscriptFormats")}}),Ys(function(e){return!e.isDisabled}))(la),pa=wp.i18n.__,da=wp.element.Fragment,fa={name:"editorskit/subscript",title:pa("Subscript","block-options"),tagName:"sub",className:null,edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(da,null,Object(c.createElement)(ua,{name:"editorskit/subscript",isActive:t,value:n,onChange:o,activeAttributes:i}))}},ba={};ba.superscript=Object(c.createElement)("svg",{viewBox:"-85 -985 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(c.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 754v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var ma=ba,ha=wp.i18n.__,va=wp.element,ga=va.Fragment,ka=va.Component,ya=wp.compose,wa=ya.compose,Oa=ya.ifCondition,ja=wp.data,_a=ja.select,Ea=ja.withSelect,Sa=wp.blockEditor,Ca=Sa.RichTextToolbarButton,xa=Sa.RichTextShortcut,Fa=wp.richText,Aa=Fa.toggleFormat,Pa=Fa.removeFormat,Da=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,o=e.isActive,i=e.onChange,r=function(){var e=Pa(n,"editorskit/subscript");i(Aa(e,{type:t}))};return Object(c.createElement)(ga,null,Object(c.createElement)(xa,{type:"primary",character:".",onUse:r}),Object(c.createElement)(Ca,{icon:ma.superscript,title:ha("Superscript","block-options"),onClick:r,isActive:o}))}}]),t}(ka),Na=wa(Ea(function(){return{isDisabled:_a("core/edit-post").isFeatureActive("disableEditorsKitSuperscriptFormats")}}),Oa(function(e){return!e.isDisabled}))(Da),Ta=wp.i18n.__,La=wp.element.Fragment,Ia={name:"editorskit/superscript",title:Ta("Superscript","block-options"),tagName:"sup",className:null,edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(La,null,Object(c.createElement)(Na,{name:"editorskit/superscript",isActive:t,value:n,onChange:o,activeAttributes:i}))}};function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var Ba=wp.i18n.__,Ra=wp.element.Component,Ha=wp.compose,Ua=Ha.compose,Va=Ha.ifCondition,za=wp.data,Wa=za.select,Ka=za.withSelect,qa=wp.blockEditor.RichTextToolbarButton,Ja=wp.richText.removeFormat,$a=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.isActive,o=e.onChange;return Object(c.createElement)(qa,{icon:"editor-removeformatting",title:Ba("Clear Formatting","block-options"),onClick:function(){var e=Wa("core/rich-text").getFormatTypes();if(e.length>0){var n=t;nn()(e,function(e){n=Ja(n,e.name)}),o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n))}},isActive:n})}}]),t}(Ra),Ga=Ua(Ka(function(){return{isDisabled:Wa("core/edit-post").isFeatureActive("disableEditorsKitClearFormattingFormats")}}),Va(function(e){return!e.isDisabled}))($a),Qa=wp.i18n.__,Za=wp.element.Fragment,Xa={name:"editorskit/clear-formatting",title:Qa("Clear Formatting","block-options"),tagName:"span",className:"editorskit-clear-formatting",edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(Za,null,Object(c.createElement)(Ga,{name:"editorskit/clear-formatting",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Ya={};Ya.uppercase=Object(c.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",version:"1",viewBox:"0 0 24 24"}," ",Object(c.createElement)("path",{d:"M22,7.7h-4V19h-2.1V7.7H13V6h9V7.7z"})," ",Object(c.createElement)("path",{d:"M11,7.7H8V19H5.9V7.7H2V6h9V7.7z"})," ");var ec=Ya,tc=wp.i18n.__,nc=wp.element.Component,oc=wp.compose,ic=oc.compose,rc=oc.ifCondition,sc=wp.data.withSelect,ac=wp.blockEditor.RichTextToolbarButton,cc=wp.richText.toggleFormat,lc=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.isActive,o=e.value,i=e.name;return Object(c.createElement)(ac,{icon:ec.uppercase,title:tc("Uppercase","block-options"),onClick:function(){t(cc(o,{type:i}))},isActive:n})}}]),t}(nc),uc=ic(sc(function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitUppercaseFormats"),formatTypes:e("core/rich-text").getFormatTypes()}}),rc(function(e){var t=e.formatTypes.filter(function(e){return"coblocks/uppercase"===e.name});return!e.isDisabled&&0===t.length}))(lc),pc=wp.i18n.__,dc=wp.element.Fragment,fc={name:"editorskit/uppercase",title:pc("Uppercase","block-options"),tagName:"span",className:"uppercase",edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(c.createElement)(dc,null,Object(c.createElement)(uc,{name:"editorskit/uppercase",isActive:t,value:n,onChange:o,activeAttributes:i}))}},bc=wp.url,mc=bc.getProtocol,hc=bc.isValidProtocol,vc=bc.getAuthority,gc=bc.isValidAuthority,kc=bc.getPath,yc=bc.isValidPath,wc=bc.getQueryString,Oc=bc.isValidQueryString,jc=bc.getFragment,_c=bc.isValidFragment,Ec=wp.i18n,Sc=Ec.__,Cc=Ec.sprintf;function xc(e){if(!e)return!1;var t=e.trim();if(!t)return!1;if(/^\S+:/.test(t)){var n=mc(t);if(!hc(n))return!1;if(Object(y.startsWith)(n,"http")&&!/^https?:\/\/[^\/\s]/i.test(t))return!1;var o=vc(t);if(!gc(o))return!1;var i=kc(t);if(i&&!yc(i))return!1;var r=wc(t);if(r&&!Oc(r))return!1;var s=jc(t);if(s&&!_c(s))return!1}return!(Object(y.startsWith)(t,"#")&&!_c(t))}function Fc(e){var t=e.url,n=e.opensInNewWindow,o=e.noFollow,i=e.sponsored,r=e.text,s={type:"editorskit/link",attributes:{url:t}},a=[];if(n){var c=Cc(Sc("%s (opens in a new tab)","block-options"),r);s.attributes.target="_blank",s.attributes["aria-label"]=c,a.push("noreferrer noopener")}return o&&a.push("nofollow"),i&&a.push("sponsored"),a.length>0&&(s.attributes.rel=a.join(" ")),s}var Ac=wp.element.Component,Pc=wp.dom,Dc=Pc.getOffsetParent,Nc=Pc.getRectangleFromRange;var Tc=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={style:function(){var e=window.getSelection();if(0===e.rangeCount)return{};var t=Nc(e.getRangeAt(0)),n=t.top+t.height,o=t.left+t.width/2,i=Dc(e.anchorNode);if(i){var r=i.getBoundingClientRect();n-=r.top,o-=r.left}return{top:n,left:o}}()},e}return Se()(t,e),ge()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.style;return Object(c.createElement)("div",{className:"editor-format-toolbar__selection-position",style:t},e)}}]),t}(Ac);function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Bc(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[o])&&(n=i.body[o])}return n}function Rc(e){return Bc(e)}function Hc(e){return Bc(e,!0)}function Uc(e){var t=function(e){var t,n,o,i=e.ownerDocument,r=i.body,s=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,o=t.top,{left:n-=s.clientLeft||r.clientLeft||0,top:o-=s.clientTop||r.clientTop||0}}(e),n=e.ownerDocument,o=n.defaultView||n.parentWindow;return t.left+=Rc(o),t.top+=Hc(o),t}var Vc,zc=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Wc=/^(top|right|bottom|left)$/,Kc="currentStyle",qc="runtimeStyle",Jc="left",$c="px";function Gc(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Qc(e){return"border-box"===Vc(e,"boxSizing")}"undefined"!=typeof window&&(Vc=window.getComputedStyle?function(e,t,n){var o="",i=e.ownerDocument,r=n||i.defaultView.getComputedStyle(e,null);return r&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e[Kc]&&e[Kc][t];if(zc.test(n)&&!Wc.test(t)){var o=e.style,i=o[Jc],r=e[qc][Jc];e[qc][Jc]=e[Kc][Jc],o[Jc]="fontSize"===t?"1em":n||0,n=o.pixelLeft+$c,o[Jc]=i,e[qc][Jc]=r}return""===n?"auto":n});var Zc=["margin","border","padding"],Xc=-1,Yc=2,el=1;function tl(e,t,n){var o,i,r,s=0;for(i=0;i<t.length;i++)if(o=t[i])for(r=0;r<n.length;r++){var a=void 0;a="border"===o?"".concat(o+n[r],"Width"):o+n[r],s+=parseFloat(Vc(e,a))||0}return s}function nl(e){return null!=e&&e==e.window}var ol={};function il(e,t,n){if(nl(e))return"width"===t?ol.viewportWidth(e):ol.viewportHeight(e);if(9===e.nodeType)return"width"===t?ol.docWidth(e):ol.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,r=(Vc(e),Qc(e)),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=Vc(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=r?el:Xc);var a=void 0!==i||r,c=i||s;if(n===Xc)return a?c-tl(e,["border","padding"],o):s;if(a){var l=n===Yc?-tl(e,["border"],o):tl(e,["margin"],o);return c+(n===el?0:l)}return s+tl(e,Zc.slice(n),o)}Gc(["Width","Height"],function(e){ol["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],ol["viewport".concat(e)](n))},ol["viewport".concat(e)]=function(t){var n="client".concat(e),o=t.document,i=o.body,r=o.documentElement[n];return"CSS1Compat"===o.compatMode&&r||i&&i[n]||r}});var rl={position:"absolute",visibility:"hidden",display:"block"};function sl(e){var t,n=arguments;return 0!==e.offsetWidth?t=il.apply(void 0,n):function(e,t,n){var o,i={},r=e.style;for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o],r[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(r[o]=i[o])}(e,rl,function(){t=il.apply(void 0,n)}),t}function al(e,t,n){var o=n;if("object"!==Lc(t))return void 0!==o?("number"==typeof o&&(o+="px"),void(e.style[t]=o)):Vc(e,t);for(var i in t)t.hasOwnProperty(i)&&al(e,i,t[i])}Gc(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ol["outer".concat(t)]=function(t,n){return t&&sl(t,e,n?0:el)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ol[e]=function(t,o){if(void 0===o)return t&&sl(t,e,Xc);if(t){Vc(t);return Qc(t)&&(o+=tl(t,["padding","border"],n)),al(t,e,o)}}});var cl=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(n,!0).forEach(function(t){Ic(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return Uc(e);!function(e,t){"static"===al(e,"position")&&(e.style.position="relative");var n,o,i=Uc(e),r={};for(o in t)t.hasOwnProperty(o)&&(n=parseFloat(al(e,o))||0,r[o]=n+t[o]-i[o]);al(e,r)}(e,t)},isWindow:nl,each:Gc,css:al,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var o in e)e.hasOwnProperty(o)&&(t.overflow[o]=e.overflow[o]);return t},scrollLeft:function(e,t){if(nl(e)){if(void 0===t)return Rc(e);window.scrollTo(t,Hc(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(nl(e)){if(void 0===t)return Hc(e);window.scrollTo(Rc(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},ol);var ll=function(e,t,n){n=n||{},9===t.nodeType&&(t=cl.getWindow(t));var o=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,r=n.alignWithTop,s=n.alignWithLeft,a=n.offsetTop||0,c=n.offsetLeft||0,l=n.offsetBottom||0,u=n.offsetRight||0;o=void 0===o||o;var p,d,f,b,m,h,v,g,k,y,w=cl.isWindow(t),O=cl.offset(e),j=cl.outerHeight(e),_=cl.outerWidth(e);w?(v=t,y=cl.height(v),k=cl.width(v),g={left:cl.scrollLeft(v),top:cl.scrollTop(v)},m={left:O.left-g.left-c,top:O.top-g.top-a},h={left:O.left+_-(g.left+k)+u,top:O.top+j-(g.top+y)+l},b=g):(p=cl.offset(t),d=t.clientHeight,f=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},m={left:O.left-(p.left+(parseFloat(cl.css(t,"borderLeftWidth"))||0))-c,top:O.top-(p.top+(parseFloat(cl.css(t,"borderTopWidth"))||0))-a},h={left:O.left+_-(p.left+f+(parseFloat(cl.css(t,"borderRightWidth"))||0))+u,top:O.top+j-(p.top+d+(parseFloat(cl.css(t,"borderBottomWidth"))||0))+l}),m.top<0||h.top>0?!0===r?cl.scrollTop(t,b.top+m.top):!1===r?cl.scrollTop(t,b.top+h.top):m.top<0?cl.scrollTop(t,b.top+m.top):cl.scrollTop(t,b.top+h.top):i||((r=void 0===r||!!r)?cl.scrollTop(t,b.top+m.top):cl.scrollTop(t,b.top+h.top)),o&&(m.left<0||h.left>0?!0===s?cl.scrollLeft(t,b.left+m.left):!1===s?cl.scrollLeft(t,b.left+h.left):m.left<0?cl.scrollLeft(t,b.left+m.left):cl.scrollLeft(t,b.left+h.left):i||((s=void 0===s||!!s)?cl.scrollLeft(t,b.left+m.left):cl.scrollLeft(t,b.left+h.left)))},ul=wp.i18n,pl=ul.__,dl=ul.sprintf,fl=ul._n,bl=wp.element,ml=bl.Component,hl=bl.createRef,vl=wp.htmlEntities.decodeEntities,gl=wp.keycodes,kl=gl.UP,yl=gl.DOWN,wl=gl.ENTER,Ol=gl.TAB,jl=wp.components,_l=jl.Spinner,El=jl.withSpokenMessages,Sl=jl.Popover,Cl=wp.compose.withInstanceId,xl=wp.apiFetch,Fl=wp.url.addQueryArgs,Al=function(e){return e.stopPropagation()},Pl=El(Cl(function(e){function t(e){var n,o=e.autocompleteRef;return he()(this,t),(n=ye()(this,Oe()(t).apply(this,arguments))).onChange=n.onChange.bind(_e()(n)),n.onKeyDown=n.onKeyDown.bind(_e()(n)),n.autocompleteRef=o||hl(),n.inputRef=hl(),n.updateSuggestions=Object(y.throttle)(n.updateSuggestions.bind(_e()(n)),200),n.suggestionNodes=[],n.state={posts:[],showSuggestions:!1,selectedSuggestion:null},n}return Se()(t,e),ge()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.showSuggestions,o=t.selectedSuggestion;n&&null!==o&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,ll(this.suggestionNodes[o],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),setTimeout(function(){e.scrollingIntoView=!1},100))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var n=xl({path:Fl("/wp/v2/search",{search:e,per_page:20,type:"post"})});n.then(function(e){t.suggestionsRequest===n&&(t.setState({posts:e,loading:!1}),e.length?t.props.debouncedSpeak(dl(fl("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):t.props.debouncedSpeak(pl("No results.","block-options"),"assertive"))}).catch(function(){t.suggestionsRequest===n&&t.setState({loading:!1})}),this.suggestionsRequest=n}}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,o=t.selectedSuggestion,i=t.posts,r=t.loading;if(n&&i.length&&!r){var s=this.state.posts[this.state.selectedSuggestion];switch(e.keyCode){case kl:e.stopPropagation(),e.preventDefault();var a=o?o-1:i.length-1;this.setState({selectedSuggestion:a});break;case yl:e.stopPropagation(),e.preventDefault();var c=null===o||o===i.length-1?0:o+1;this.setState({selectedSuggestion:c});break;case Ol:null!==this.state.selectedSuggestion&&(this.selectLink(s),this.props.speak(pl("Link selected.","block-options")));break;case wl:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.selectLink(s))}}else switch(e.keyCode){case kl:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case yl:this.props.value.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function(e){this.selectLink(e),this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=void 0===n?"":n,i=t.autoFocus,r=void 0===i||i,s=t.instanceId,a=t.className,l=this.state,p=l.showSuggestions,d=l.posts,f=l.selectedSuggestion,b=l.loading;return Object(c.createElement)("div",{className:u()("editor-url-input block-editor-url-input",a)},Object(c.createElement)("input",{autoFocus:r,type:"text","aria-label":pl("URL","block-options"),required:!0,value:o,onChange:this.onChange,onInput:Al,placeholder:pl("Paste URL or type to search","block-options"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":p,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-".concat(s),"aria-activedescendant":null!==f?"editor-url-input-suggestion-".concat(s,"-").concat(f):void 0,ref:this.inputRef}),b&&Object(c.createElement)(_l,null),p&&!!d.length&&Object(c.createElement)(Sl,{position:"bottom",noArrow:!0,focusOnMount:!1},Object(c.createElement)("div",{className:u()("editor-url-input__suggestions","block-editor-url-input__suggestions","".concat(a,"__suggestions")),id:"editor-url-input-suggestions-".concat(s),ref:this.autocompleteRef,role:"listbox"},d.map(function(t,n){return Object(c.createElement)("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-".concat(s,"-").concat(n),ref:e.bindSuggestionNode(n),className:u()("editor-url-input__suggestion block-editor-url-input__suggestion",{"is-selected":n===f}),onClick:function(){return e.handleOnClick(t)},"aria-selected":n===f},vl(t.title)||pl("(no title)","block-options"))}))))}}]),t}(ml))),Dl=wp.i18n.__,Nl=wp.components.IconButton;function Tl(e){var t=e.autocompleteRef,n=e.className,o=e.onChangeInputValue,i=e.value,r=sr()(e,["autocompleteRef","className","onChangeInputValue","value"]);return Object(c.createElement)("form",a()({className:u()("block-editor-url-popover__link-editor",n)},r),Object(c.createElement)(Pl,{value:i,onChange:o,autocompleteRef:t}),Object(c.createElement)(Nl,{icon:"editor-break",label:Dl("Apply","block-options"),type:"submit"}))}var Ll=wp.i18n.__,Il=wp.components,Ml=Il.ExternalLink,Bl=Il.IconButton,Rl=wp.url,Hl=Rl.safeDecodeURI,Ul=Rl.filterURLForDisplay;function Vl(e){var t=e.url,n=e.urlLabel,o=e.className,i=u()(o,"block-editor-url-popover__link-viewer-url");return t?Object(c.createElement)(Ml,{className:i,href:t},n||Ul(Hl(t))):Object(c.createElement)("span",{className:i})}function zl(e){var t=e.className,n=e.linkClassName,o=e.onEditLinkClick,i=e.url,r=e.urlLabel,s=sr()(e,["className","linkClassName","onEditLinkClick","url","urlLabel"]);return Object(c.createElement)("div",a()({className:u()("block-editor-url-popover__link-viewer",t)},s),Object(c.createElement)(Vl,{url:i,urlLabel:r,className:n}),o&&Object(c.createElement)(Bl,{icon:"edit",label:Ll("Edit","block-options"),onClick:o}))}var Wl=wp.i18n.__,Kl=wp.element,ql=Kl.Component,Jl=Kl.createRef,$l=Kl.useMemo,Gl=Kl.Fragment,Ql=wp.components,Zl=Ql.ToggleControl,Xl=Ql.withSpokenMessages,Yl=wp.keycodes,eu=Yl.LEFT,tu=Yl.RIGHT,nu=Yl.UP,ou=Yl.DOWN,iu=Yl.BACKSPACE,ru=Yl.ENTER,su=wp.dom.getRectangleFromRange,au=wp.url.prependHTTP,cu=wp.richText,lu=cu.create,uu=cu.insert,pu=cu.isCollapsed,du=cu.applyFormat,fu=cu.getTextContent,bu=cu.slice,mu=wp.blockEditor.URLPopover,hu=function(e){return e.stopPropagation()};function vu(e,t){return e.addingLink||t.editLink}var gu=function(e){var t=e.isActive,n=e.addingLink,o=e.value,i=sr()(e,["isActive","addingLink","value"]),r=$l(function(){var e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;if(t){if(n)return su(t);var o=t.startContainer;for(o=o.nextElementSibling||o;o.nodeType!==window.Node.ELEMENT_NODE;)o=o.parentNode;var i=o.closest("a");return i?i.getBoundingClientRect():void 0}},[t,n,o.start,o.end]);return r?Object(c.createElement)(mu,a()({anchorRect:r},i)):null},ku=Xl(function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).editLink=e.editLink.bind(_e()(e)),e.submitLink=e.submitLink.bind(_e()(e)),e.onKeyDown=e.onKeyDown.bind(_e()(e)),e.onChangeInputValue=e.onChangeInputValue.bind(_e()(e)),e.setLinkTarget=e.setLinkTarget.bind(_e()(e)),e.setNoFollow=e.setNoFollow.bind(_e()(e)),e.setSponsored=e.setSponsored.bind(_e()(e)),e.onFocusOutside=e.onFocusOutside.bind(_e()(e)),e.resetState=e.resetState.bind(_e()(e)),e.autocompleteRef=Jl(),e.state={opensInNewWindow:!1,noFollow:!1,sponsored:!1,inputValue:""},e}return Se()(t,e),ge()(t,[{key:"onKeyDown",value:function(e){[eu,ou,tu,nu,iu,ru].indexOf(e.keyCode)>-1&&e.stopPropagation()}},{key:"onChangeInputValue",value:function(e){this.setState({inputValue:e})}},{key:"setLinkTarget",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({opensInNewWindow:e}),!vu(this.props,this.state)){var s=fu(bu(i));r(du(i,Fc({url:o,opensInNewWindow:e,noFollow:this.state.noFollow,sponsored:this.state.sponsored,text:s})))}}},{key:"setNoFollow",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({noFollow:e}),!vu(this.props,this.state)){var s=fu(bu(i));r(du(i,Fc({url:o,opensInNewWindow:this.state.opensInNewWindow,noFollow:e,sponsored:this.state.sponsored,text:s})))}}},{key:"setSponsored",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({sponsored:e}),!vu(this.props,this.state)){var s=fu(bu(i));r(du(i,Fc({url:o,opensInNewWindow:this.state.opensInNewWindow,noFollow:this.state.noFollow,sponsored:e,text:s})))}}},{key:"editLink",value:function(e){this.setState({editLink:!0}),e.preventDefault()}},{key:"submitLink",value:function(e){var t=this.props,n=t.isActive,o=t.value,i=t.onChange,r=t.speak,s=this.state,a=s.inputValue,c=s.opensInNewWindow,l=au(a),u=Fc({url:l,opensInNewWindow:c,text:fu(bu(o))});if(e.preventDefault(),pu(o)&&!n){var p=du(lu({text:l}),u,0,l.length);i(uu(o,p))}else i(du(o,u));this.resetState(),xc(l)?r(Wl(n?"Link edited.":"Link inserted.","block-options"),"assertive"):r(Wl("Warning: the link has been inserted but may have errors. Please test it.","block-options"),"assertive")}},{key:"onFocusOutside",value:function(){var e=this.autocompleteRef.current;e&&e.contains(event.target)||this.resetState()}},{key:"resetState",value:function(){this.props.stopAddingLink(),this.setState({editLink:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,o=t.activeAttributes,i=o.url,r=o.target,s=o.rel,a=t.addingLink,l=t.value;if(!n&&!a)return null;var u=this.state,p=u.inputValue,d=u.opensInNewWindow,f=u.noFollow,b=u.sponsored,m=vu(this.props,this.state);if(d||"_blank"!==r||this.setState({opensInNewWindow:!0}),"string"==typeof s){var h=s.split(" ").includes("nofollow"),v=s.split(" ").includes("sponsored");h!==f&&this.setState({noFollow:h}),v!==b&&this.setState({sponsored:v})}return Object(c.createElement)(Tc,{key:"".concat(l.start).concat(l.end)},Object(c.createElement)(gu,{value:l,isActive:n,addingLink:a,onFocusOutside:this.onFocusOutside,focusOnMount:!!m&&"firstElement",renderSettings:function(){return Object(c.createElement)(Gl,null,Object(c.createElement)(Zl,{label:Wl("Open in New Tab","block-options"),checked:d,onChange:e.setLinkTarget}),Object(c.createElement)(Zl,{label:Wl("No Follow","block-options"),checked:f,onChange:e.setNoFollow}),Object(c.createElement)(Zl,{label:Wl("Sponsored","block-options"),checked:b,onChange:e.setSponsored}))}},m?Object(c.createElement)(Tl,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:p,onChangeInputValue:this.onChangeInputValue,onKeyDown:this.onKeyDown,onKeyPress:hu,onSubmit:this.submitLink,autocompleteRef:this.autocompleteRef}):Object(c.createElement)(zl,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:hu,url:i,onEditLinkClick:this.editLink,linkClassName:xc(au(i))?void 0:"has-invalid-link"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeAttributes,o=n.url,i=n.target,r=n.rel,s="_blank"===i;if(!vu(e,t)){if(o!==t.inputValue)return{inputValue:o};if(s!==t.opensInNewWindow)return{opensInNewWindow:s};if("string"==typeof r){var a=r.split(" ").includes("nofollow"),c=r.split(" ").includes("sponsored");if(a!==t.noFollow)return{noFollow:a};if(c!==t.sponsored)return{sponsored:c}}}return null}}]),t}(ql));function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ou=wp.i18n.__,ju=wp.element,_u=ju.Component,Eu=ju.Fragment,Su=wp.data,Cu=Su.select,xu=Su.withSelect,Fu=Su.dispatch,Au=wp.blockEditor,Pu=Au.BlockControls,Du=Au.RichTextToolbarButton,Nu=Au.RichTextShortcut,Tu=wp.richText,Lu=Tu.getTextContent,Iu=Tu.applyFormat,Mu=Tu.removeFormat,Bu=Tu.slice,Ru=Tu.isCollapsed,Hu=Tu.getActiveFormat,Uu=wp.url.isURL,Vu=wp.components,zu=Vu.Toolbar,Wu=Vu.withSpokenMessages,Ku=wp.compose,qu=Ku.compose,Ju=Ku.ifCondition,$u=Ou("Add Link","block-options"),Gu=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i,Qu=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).isEmail=e.isEmail.bind(_e()(e)),e.addLink=e.addLink.bind(_e()(e)),e.stopAddingLink=e.stopAddingLink.bind(_e()(e)),e.onRemoveFormat=e.onRemoveFormat.bind(_e()(e)),e.state={addingLink:!1},e}return Se()(t,e),ge()(t,[{key:"isEmail",value:function(e){return Gu.test(e)}},{key:"addLink",value:function(){var e=this.props,t=e.value,n=e.onChange,o=Lu(Bu(t));o&&Uu(o)?n(Iu(t,{type:"editorskit/link",attributes:{url:o}})):o&&this.isEmail(o)?n(Iu(t,{type:"editorskit/link",attributes:{url:"mailto:".concat(o)}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value,n=e.onChange,o=e.speak,i=t;Object(y.map)(["core/link","editorskit/link"],function(e){i=Mu(i,e)}),n(wu({},i)),o(Ou("Link removed.","block-options"),"assertive")}},{key:"render",value:function(){var e=this.props,t=e.activeAttributes,n=e.onChange,o=this.props,i=o.isActive,r=o.value,s=Hu(r,"core/link");if(s&&Ru(r)&&!i){s.type="editorskit/link";var a=r;a=Iu(a,s),n(wu({},a=Mu(a,"core/link"))),r=a,i=!0}else{Cu("core/rich-text").getFormatType("core/link")&&Fu("core/rich-text").removeFormatTypes("core/link")}return Object(c.createElement)(Eu,null,Object(c.createElement)(Pu,null,Object(c.createElement)(zu,{className:"editorskit-components-toolbar"},Object(c.createElement)(Nu,{type:"primary",character:"k",onUse:this.addLink}),Object(c.createElement)(Nu,{type:"primaryShift",character:"k",onUse:this.onRemoveFormat}),i&&Object(c.createElement)(Du,{name:"link",icon:"editor-unlink",title:Ou("Unlink","block-options"),onClick:this.onRemoveFormat,isActive:i,shortcutType:"primaryShift",shortcutCharacter:"k"}),!i&&Object(c.createElement)(Du,{name:"link",icon:"admin-links",title:$u,onClick:this.addLink,isActive:i,shortcutType:"primary",shortcutCharacter:"k"}),Object(c.createElement)(ku,{addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:i,activeAttributes:t,value:r,onChange:n}))))}}]),t}(_u),Zu=qu(xu(function(){return{isDisabled:Cu("core/edit-post").isFeatureActive("disableEditorsKitColorsFormats")}}),Ju(function(e){return!e.isDisabled}),Wu)(Qu),Xu=wp.i18n.__,Yu=wp.richText,ep=Yu.applyFormat,tp=Yu.isCollapsed,np=wp.htmlEntities.decodeEntities,op=wp.url.isURL,ip={name:"editorskit/link",title:Xu("Link","block-options"),tagName:"a",className:"ek-link",attributes:{url:"href",target:"target",rel:"rel"},__unstablePasteRule:function(e,t){var n=t.html,o=t.plainText;if(tp(e))return e;var i=(n||o).replace(/<[^>]+>/g,"").trim();return op(i)?(window.console.log("Created link:\n\n",i),ep(e,{type:"editorskit/link",attributes:{url:np(i)}})):e},edit:Zu},rp=wp.richText.registerFormatType;[br,Fr,Yr,Es,Ws,fa,Ia,Xa,fc,ip].forEach(function(e){var t=e.name,n=sr()(e,["name"]);return rp(t,n)});var sp=wp.i18n.__,ap=wp.element,cp=ap.Component,lp=ap.Fragment,up=ap.useCallback,pp=ap.useState,dp=ap.useRef,fp=wp.data.withSelect,bp=wp.compose,mp=bp.compose,hp=bp.ifCondition,vp=wp.keycodes,gp=vp.LEFT,kp=vp.RIGHT,yp=vp.UP,Op=vp.DOWN,jp=vp.BACKSPACE,_p=vp.ENTER,Ep=wp.blockEditor.URLPopover,Sp=wp.components,Cp=Sp.ToggleControl,xp=Sp.IconButton,Fp=Sp.Path,Ap=Sp.SVG,Pp=Sp.NavigableMenu,Dp=Sp.MenuItem,Np=Sp.withSpokenMessages,Tp=function(e){e.stopPropagation()},Lp=function(e){[gp,Op,kp,yp,jp,_p].indexOf(e.keyCode)>-1&&e.stopPropagation()},Ip=function(e){var t=e.advancedOptions,n=e.linkDestination,o=e.mediaLinks,i=e.onChangeUrl,r=e.url,s=pp(!1),a=Tn()(s,2),l=a[0],u=a[1],p=up(function(){u(!0)}),d=pp(!1),f=Tn()(d,2),b=f[0],m=f[1],h=pp(null),v=Tn()(h,2),g=v[0],k=v[1],w=up(function(){"media"!==n&&"attachment"!==n||k(""),m(!0)}),O=up(function(){m(!1)}),j=up(function(){k(null),O(),u(!1)}),_=dp(null),E=up(function(){return function(e){var t=_.current;t&&t.contains(e.target)||(u(!1),k(null),O())}}),S=up(function(){return function(e){g&&i(g),O(),k(null),e.preventDefault()}}),C=up(function(){i("")}),x=null!==g?g:r,F=(find(o,["linkDestination",n])||{}).title;return Object(c.createElement)(lp,null,Object(c.createElement)(xp,{icon:"admin-links",className:"components-toolbar__control",label:sp(r?"Edit Media Link":"Media Link","block-options"),"aria-expanded":l,onClick:p}),l&&Object(c.createElement)(Ep,{onClickOutside:E(),onClose:j,renderSettings:function(){return t},additionalControls:!x&&Object(c.createElement)(Pp,null,Object(y.map)(o,function(e){return Object(c.createElement)(Dp,{key:e.linkDestination,icon:e.icon,onClick:function(){k(null),i(e.url),O()}},e.title)}))},(!r||b)&&Object(c.createElement)(Ep.LinkEditor,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:x,onChangeInputValue:k,onKeyDown:Lp,onKeyPress:Tp,onSubmit:S(),autocompleteRef:_}),r&&!b&&Object(c.createElement)(lp,null,Object(c.createElement)(Ep.LinkViewer,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Tp,url:r,onEditLinkClick:w,urlLabel:F}),Object(c.createElement)(xp,{icon:"no",label:sp("Remove Link","block-options"),onClick:C}))))},Mp=function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).onSetNewTab=e.onSetNewTab.bind(_e()(e)),e.getLinkDestinations=e.getLinkDestinations.bind(_e()(e)),e.onSetHref=e.onSetHref.bind(_e()(e)),e.state={isVisible:!1},e}return Se()(t,e),ge()(t,[{key:"onSetHref",value:function(e){var t,n=this.props.attributes.linkDestination,o=this.getLinkDestinations();n===(t=e?(find(o,function(t){return t.url===e})||{linkDestination:"custom"}).linkDestination:"none")?this.props.setAttributes({href:e}):this.props.setAttributes({linkDestination:t,href:e})}},{key:"onSetNewTab",value:function(e){var t=e?"_blank":void 0;this.props.setAttributes({linkTarget:t})}},{key:"getLinkDestinations",value:function(){var e=this.props.image;return[{linkDestination:"media",title:sp("Media File"),url:e.source_url,icon:Object(c.createElement)(Ap,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(Fp,{d:"M0,0h24v24H0V0z",fill:"none"}),Object(c.createElement)(Fp,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),Object(c.createElement)(Fp,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"}))},{linkDestination:"attachment",title:sp("Attachment Page"),url:e.link,icon:Object(c.createElement)(Ap,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(Fp,{d:"M0 0h24v24H0V0z",fill:"none"}),Object(c.createElement)(Fp,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))}]}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,o=t.href,i=t.linkDestination,r=t.linkTarget,s=t.linkNoFollow,a=t.linkFullBlock;return Object(c.createElement)(lp,null,Object(c.createElement)(Ip,{url:o||"",onChangeUrl:this.onSetHref,mediaLinks:this.getLinkDestinations(),linkDestination:i,advancedOptions:Object(c.createElement)(lp,null,Object(c.createElement)(Cp,{label:sp("Open in New Tab","block-options"),onChange:this.onSetNewTab,checked:"_blank"===r}),Object(c.createElement)(Cp,{label:sp("No follow","block-options"),onChange:function(){n({linkNoFollow:!s})},checked:!!s}),Object(c.createElement)(Cp,{label:sp("Apply link to whole block","block-options"),onChange:function(){n({linkFullBlock:!a})},checked:!!a}))}))}}]),t}(cp),Bp=mp(fp(function(e,t){var n=e("core").getMedia,o=t.attributes.mediaId;return{image:o?n(o):null,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitMediaTextLinkTools")}}),hp(function(e){return!e.isDisabled&&e.image&&"image"===e.attributes.mediaType&&void 0!==Ep.LinkEditor}),Np)(Mp),Rp=wp.element,Hp=Rp.Component,Up=Rp.Fragment,Vp=wp.blockEditor.BlockControls,zp=wp.components.Toolbar,Wp=function(e){function t(){return he()(this,t),ye()(this,Oe()(t).apply(this,arguments))}return Se()(t,e),ge()(t,[{key:"render",value:function(){return Object(c.createElement)(Up,null,Object(c.createElement)(Vp,null,Object(c.createElement)(zp,null,Object(c.createElement)(Bp,this.props))))}}]),t}(Hp);function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var qp=wp.hooks.addFilter,Jp=wp.element.Fragment,$p=["core/media-text"];var Gp=(0,wp.compose.createHigherOrderComponent)(function(e){return function(t){return Object(c.createElement)(Jp,null,Object(c.createElement)(e,t),t.isSelected&&$p.includes(t.name)&&Object(c.createElement)(Wp,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kp(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)))}},"withControls");qp("blocks.registerBlockType","editorskit/media-text-link/attributes",function(e){return $p.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{href:{type:"string"},linkDestination:{type:"string",default:"none"},linkTarget:{type:"string",default:"none"},linkNoFollow:{type:"boolean",default:!1},linkFullBlock:{type:"boolean",default:!1}})),e}),qp("editor.BlockEdit","editorskit/media-text-link",Gp);n(56);function Qp(e){var t=new window.FileReader;return new Promise(function(n){t.onload=function(){n(t.result)},t.readAsText(e)})}function Zp(){return(Zp=Hi()(li.a.mark(function e(t){var n,o,i,r;return li.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qp(t);case 2:n=e.sent,e.prev=3,o=JSON.parse(n),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),new Error("Invalid JSON file");case 10:if("wp_block"===o.__file&&o.title&&o.content&&Object(y.isString)(o.title)&&Object(y.isString)(o.content)){e.next=12;break}return e.abrupt("return",Xp(o));case 12:return e.next=14,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 14:return i=e.sent,e.next=17,wp.apiFetch({path:"/wp/v2/".concat(i.rest_base),data:{title:o.title,content:o.content,status:"publish"},method:"POST"});case 17:if(!(r=e.sent).id){e.next=20;break}return e.abrupt("return",'\x3c!-- wp:block {"ref":'+r.id+"} /--\x3e");case 20:throw new Error("Invalid Reusable Block JSON file contents");case 21:case"end":return e.stop()}},e,null,[[3,7]])}))).apply(this,arguments)}function Xp(e){if("core_block"!==e.__file||!e.content||!Object(y.isString)(e.content))throw new Error("Invalid JSON file");return e.content}var Yp=function(e){return Zp.apply(this,arguments)},ed=wp.i18n.__,td=wp.data,nd=td.select,od=td.dispatch,id=wp.compose.withInstanceId,rd=wp.element,sd=rd.Fragment,ad=rd.Component,cd=wp.blocks,ld=cd.parse,ud=cd.createBlock,pd=wp.blockEditor.MediaUploadCheck,dd=wp.components,fd=dd.DropZone,bd=dd.FormFileUpload,md=dd.Placeholder,hd=dd.Notice,vd=["json"],gd=id(function(e){function t(){var e;return he()(this,t),(e=ye()(this,Oe()(t).apply(this,arguments))).state={isLoading:!1,error:null},e.isStillMounted=!0,e.addFile=e.addFile.bind(_e()(e)),e}return Se()(t,e),ge()(t,[{key:"componentDidMount",value:function(){var e=this.props.attributes.file;e&&(this.setState({isLoading:!0}),this.addFile(e))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"insertImportedBlocks",value:function(e){var t=this.props.onClose;e=ld(e);var n=[],o=nd("core/block-editor").getBlockInsertionPoint();if(e.length>0){for(var i in e){var r=ud(e[i].name,e[i].attributes,e[i].innerBlocks);od("core/block-editor").insertBlocks(r,parseInt(o.index)+parseInt(i)),void 0!==r&&n.push(r.clientId)}od("core/block-editor").removeBlock(this.props.clientId),n.length>0&&od("core/block-editor").multiSelect(n[0],n.reverse()[0])}t()}},{key:"addFile",value:function(e){var t=this,n=e[0];e.target&&(n=event.target.files[0]),n&&(this.setState({isLoading:!0}),Yp(n).then(function(e){t.isStillMounted&&(t.setState({isLoading:!1}),t.insertImportedBlocks(e))}).catch(function(e){if(t.isStillMounted){var n;switch(e.message){case"Invalid JSON file":n=ed("Invalid JSON file","block-options");break;case"Invalid Reusable Block JSON file":n=ed("Invalid Reusable Block JSON file","block-options");break;default:n=ed("Unknown error","block-options")}t.setState({isLoading:!1,error:n})}}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.error;return Object(c.createElement)(md,{icon:"download",label:ed("Import from JSON","block-options"),instructions:ed("Drag a file or upload a new one from your device.","block-options"),className:"editor-media-placeholder",notices:n&&Object(c.createElement)(hd,{status:"error"},n)},Object(c.createElement)(sd,null,Object(c.createElement)(pd,null,Object(c.createElement)(fd,{onFilesDrop:this.addFile,label:ed("Import from JSON","block-options")}),Object(c.createElement)(bd,{isLarge:!0,className:"editor-media-placeholder__button",onChange:this.addFile,accept:vd,isBusy:t,disabled:t,multiple:!1},ed("Upload","block-options")))))}}]),t}(ad)),kd=wp.components.SVG,yd=Object(c.createElement)(kd,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(c.createElement)("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),wd=wp.blocks.createBlock,Od={from:[{type:"files",isMatch:function(e){return"application/json"===e[0].type},priority:14,transform:function(e){var t=[];return t.push(wd("editorskit/import",{file:e})),t}}]},jd=wp.i18n.__,_d="import",Ed=jd("Import","block-options"),Sd=[jd("import","block-options"),jd("download","block-options"),jd("migrate","block-options")],Cd={title:Ed,description:jd("Import blocks exported using EditorsKit plugin.","block-options"),keywords:Sd,attributes:{file:{type:"object"}},supports:{align:!0,alignWide:!1,alignFull:!1},transforms:Od,edit:gd,save:function(){return null}};function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}n.d(t,"registerBlocks",function(){return Ad});var Fd=wp.blocks.registerBlockType;function Ad(){[o].forEach(function(e){if(e){var t=e.name,n=e.settings;Fd("editorskit/".concat(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({category:"common"},n))}})}Ad()},,,,function(e,t){var n=wp.i18n.__,o=wp.blocks.registerBlockStyle;["core/image","core/cover"].forEach(function(e){o(e,{name:"default",label:n("Default","block-options"),isDefault:!0}),o(e,{name:"editorskit-circular",label:n("Circular","block-options"),isDefault:!1}),o(e,{name:"editorskit-rounded",label:n("Rounded Corners","block-options"),isDefault:!1}),o(e,{name:"editorskit-diagonal",label:n("Diagonal","block-options"),isDefault:!1}),o(e,{name:"editorskit-inverted-diagonal",label:n("Inverted Diagonal","block-options"),isDefault:!1}),o(e,{name:"editorskit-shadow",label:n("Shadow","block-options"),isDefault:!1})})},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t,n){var o=n(29);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!o(n))return e(n,i);for(var r=n.length,s=t?r:-1,a=Object(n);(t?s--:++s<r)&&!1!==i(a[s],s,a););return n}}},function(e,t){e.exports=function(e){return function(t,n,o){for(var i=-1,r=Object(t),s=o(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(r[c],c,r))break}return t}}},function(e,t,n){var o=n(62)();e.exports=o},function(e,t,n){var o=n(63),i=n(31);e.exports=function(e,t){return e&&o(e,t,i)}},function(e,t,n){var o=n(64),i=n(61)(o);e.exports=i},function(e,t,n){var o=n(65),i=n(29);e.exports=function(e,t){var n=-1,r=i(e)?Array(e.length):[];return o(e,function(e,o,i){r[++n]=t(e,o,i)}),r}},function(e,t,n){var o=n(36);e.exports=function(e){return function(t){return o(t,e)}}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var o=n(68),i=n(67),r=n(28),s=n(20);e.exports=function(e){return r(e)?o(s(e)):i(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var o=n(35),i=n(43),r=n(11),s=n(40),a=n(30),c=n(20);e.exports=function(e,t,n){for(var l=-1,u=(t=o(t,e)).length,p=!1;++l<u;){var d=c(t[l]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++l!=u?p:!!(u=null==e?0:e.length)&&a(u)&&s(d,u)&&(r(e)||i(e))}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var o=n(72),i=n(71);e.exports=function(e,t){return null!=e&&i(e,t,o)}},function(e,t,n){var o=n(23),i=n(51),r=n(11),s=n(27),a=1/0,c=o?o.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},function(e,t,n){var o=n(74);e.exports=function(e){return null==e?"":o(e)}},function(e,t,n){var o=n(32),i="Expected a function";function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=e.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(r.Cache||o),n}r.Cache=o,e.exports=r},function(e,t,n){var o=n(76),i=500;e.exports=function(e){var t=o(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,r=n(77)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,o,r){t.push(o?r.replace(i,"$1"):n||e)}),t});e.exports=r},function(e,t,n){var o=n(36);e.exports=function(e,t,n){var i=null==e?void 0:o(e,t);return void 0===i?n:i}},function(e,t,n){var o=n(45),i=n(79),r=n(73),s=n(28),a=n(38),c=n(37),l=n(20),u=1,p=2;e.exports=function(e,t){return s(e)&&a(t)?c(l(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?r(n,e):o(t,s,u|p)}}},function(e,t,n){var o=n(38),i=n(31);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,o(s)]}return t}},function(e,t,n){var o=n(16)(n(12),"WeakMap");e.exports=o},function(e,t,n){var o=n(16)(n(12),"Set");e.exports=o},function(e,t,n){var o=n(16)(n(12),"Promise");e.exports=o},function(e,t,n){var o=n(16)(n(12),"DataView");e.exports=o},function(e,t,n){var o=n(85),i=n(34),r=n(84),s=n(83),a=n(82),c=n(19),l=n(46),u=l(o),p=l(i),d=l(r),f=l(s),b=l(a),m=c;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||r&&"[object Promise]"!=m(r.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,o=n?l(n):"";if(o)switch(o){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var o=n(87)(Object.keys,Object);e.exports=o},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var o=n(89),i=n(88),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){(function(e){var o=n(47),i="object"==typeof t&&t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===i&&o.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(41)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var o=n(19),i=n(30),r=n(18),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!s[o(e)]}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var o=n(19),i=n(18),r="[object Arguments]";e.exports=function(e){return i(e)&&o(e)==r}},function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},function(e,t,n){var o=n(96),i=n(43),r=n(11),s=n(42),a=n(40),c=n(39),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&i(e),p=!n&&!u&&s(e),d=!n&&!u&&!p&&c(e),f=n||u||p||d,b=f?o(e.length,String):[],m=b.length;for(var h in e)!t&&!l.call(e,h)||f&&("length"==h||p&&("offset"==h||"parent"==h)||d&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||a(h,m))||b.push(h);return b}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var s=e[n];t(s,n,e)&&(r[i++]=s)}return r}},function(e,t,n){var o=n(99),i=n(98),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),o(s(e),function(t){return r.call(e,t)}))}:i;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}},function(e,t,n){var o=n(101),i=n(11);e.exports=function(e,t,n){var r=t(e);return i(e)?r:o(r,n(e))}},function(e,t,n){var o=n(102),i=n(100),r=n(31);e.exports=function(e){return o(e,r,i)}},function(e,t,n){var o=n(103),i=1,r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,c){var l=n&i,u=o(e),p=u.length;if(p!=o(t).length&&!l)return!1;for(var d=p;d--;){var f=u[d];if(!(l?f in t:r.call(t,f)))return!1}var b=c.get(e);if(b&&c.get(t))return b==t;var m=!0;c.set(e,t),c.set(t,e);for(var h=l;++d<p;){var v=e[f=u[d]],g=t[f];if(s)var k=l?s(g,v,f,t,e,c):s(v,g,f,e,t,c);if(!(void 0===k?v===g||a(v,g,n,s,c):k)){m=!1;break}h||(h="constructor"==f)}if(m&&!h){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}},function(e,t,n){var o=n(12).Uint8Array;e.exports=o},function(e,t,n){var o=n(23),i=n(107),r=n(49),s=n(44),a=n(106),c=n(105),l=1,u=2,p="[object Boolean]",d="[object Date]",f="[object Error]",b="[object Map]",m="[object Number]",h="[object RegExp]",v="[object Set]",g="[object String]",k="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",O=o?o.prototype:void 0,j=O?O.valueOf:void 0;e.exports=function(e,t,n,o,O,_,E){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!_(new i(e),new i(t)));case p:case d:case m:return r(+e,+t);case f:return e.name==t.name&&e.message==t.message;case h:case g:return e==t+"";case b:var S=a;case v:var C=o&l;if(S||(S=c),e.size!=t.size&&!C)return!1;var x=E.get(e);if(x)return x==t;o|=u,E.set(e,t);var F=s(S(e),S(t),o,O,_,E);return E.delete(e),F;case k:if(j)return j.call(e)==j.call(t)}return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t,n){var o=n(32),i=n(112),r=n(111);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,e.exports=s},function(e,t,n){var o=n(50),i=n(44),r=n(108),s=n(104),a=n(86),c=n(11),l=n(42),u=n(39),p=1,d="[object Arguments]",f="[object Array]",b="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,v,g){var k=c(e),y=c(t),w=k?f:a(e),O=y?f:a(t),j=(w=w==d?b:w)==b,_=(O=O==d?b:O)==b,E=w==O;if(E&&l(e)){if(!l(t))return!1;k=!0,j=!1}if(E&&!j)return g||(g=new o),k||u(e)?i(e,t,n,h,v,g):r(e,t,w,n,h,v,g);if(!(n&p)){var S=j&&m.call(e,"__wrapped__"),C=_&&m.call(t,"__wrapped__");if(S||C){var x=S?e.value():e,F=C?t.value():t;return g||(g=new o),v(x,F,n,h,g)}}return!!E&&(g||(g=new o),s(e,t,n,h,v,g))}},function(e,t,n){var o=n(21);e.exports=function(e,t){var n=o(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var o=n(21);e.exports=function(e){return o(this,e).has(e)}},function(e,t,n){var o=n(21);e.exports=function(e){return o(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var o=n(21);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var o=n(22),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?i:t,this}},function(e,t,n){var o=n(22),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var o=n(22),i="__lodash_hash_undefined__",r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return n===i?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var o=n(22);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,t,n){var o=n(124),i=n(123),r=n(122),s=n(121),a=n(120);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var o=n(125),i=n(25),r=n(34);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var o=n(12)["__core-js_shared__"];e.exports=o},function(e,t,n){var o=n(128),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var o=n(23),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var i=s.call(e);return o&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(48),i=n(129),r=n(33),s=n(46),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(o(e)?d:a).test(s(e))}},function(e,t,n){var o=n(25),i=n(34),r=n(32),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(a)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){var o=n(25);e.exports=function(){this.__data__=new o,this.size=0}},function(e,t,n){var o=n(24);e.exports=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var o=n(24);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,t,n){var o=n(24);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var o=n(24),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var o=n(50),i=n(45),r=1,s=2;e.exports=function(e,t,n,a){var c=n.length,l=c,u=!a;if(null==e)return!l;for(e=Object(e);c--;){var p=n[c];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++c<l;){var d=(p=n[c])[0],f=e[d],b=p[1];if(u&&p[2]){if(void 0===f&&!(d in e))return!1}else{var m=new o;if(a)var h=a(f,b,d,e,t,m);if(!(void 0===h?i(b,f,r|s,a,m):h))return!1}}return!0}},function(e,t,n){var o=n(144),i=n(81),r=n(37);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},function(e,t,n){var o=n(145),i=n(80),r=n(70),s=n(11),a=n(69);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?i(e[0],e[1]):o(e):a(e)}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){var n=wp.data.select;wp.domReady(function(){if(document.body.classList.contains("editorskit-body-class-on")){var e=document.querySelector(".editor-page-attributes__template select"),t=document.querySelectorAll(".genesis-layout-selector input"),o=n("core/editor").getEditedPostAttribute("type"),i=o+"-template-";e&&e.addEventListener("change",function(){var t=document.body.className.split(" ").filter(function(e){return!e.startsWith(i)}),n=e.options[e.selectedIndex].value;n||(n="default"),n=n.split("/").join("-"),document.body.className=t.join(" ").trim(),document.body.classList.add(i+n.split(".").join("-"))}),t&&function(){for(var e="default-layout",n=o+"-layout-",i=0,r=t.length;i<r;i++)t[i].addEventListener("change",function(){if(this.getAttribute("id")!==e){var t=document.body.className.split(" ").filter(function(e){return!e.startsWith(n)});e=this.getAttribute("id"),document.body.className=t.join(" ").trim(),document.body.classList.add(n+e.split(".").join("-"))}})}()}})}]);